<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>aMule: CServerSocket Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>CServerSocket Class Reference</h1><!-- doxytag: class="CServerSocket" --><!-- doxytag: inherits="CEMSocket" --><div class="dynheader">
Inheritance diagram for CServerSocket:</div>
<div class="dynsection">
 <div class="center">
  <img src="classCServerSocket.gif" usemap="#CServerSocket_map" alt=""/>
  <map id="CServerSocket_map" name="CServerSocket_map">
<area href="classCEMSocket.html" alt="CEMSocket" shape="rect" coords="83,168,239,192"/>
<area href="classCEncryptedStreamSocket.html" alt="CEncryptedStreamSocket" shape="rect" coords="0,112,156,136"/>
<area href="classThrottledFileSocket.html" alt="ThrottledFileSocket" shape="rect" coords="166,112,322,136"/>
<area href="classCSocketClientProxy.html" alt="CSocketClientProxy" shape="rect" coords="0,56,156,80"/>
<area href="classThrottledControlSocket.html" alt="ThrottledControlSocket" shape="rect" coords="166,56,322,80"/>
<area href="classCProxySocket.html" alt="CProxySocket" shape="rect" coords="0,0,156,24"/>
</map>
 </div>
</div>

<p><a href="classCServerSocket-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8fca065132858e7f4ab7d109a9b32a0a"></a><!-- doxytag: member="CServerSocket::CServerSocket" ref="a8fca065132858e7f4ab7d109a9b32a0a" args="(CServerConnect *in_serverconnect, const CProxyData *ProxyData=NULL)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>CServerSocket</b> (<a class="el" href="classCServerConnect.html">CServerConnect</a> *in_serverconnect, const <a class="el" href="classCProxyData.html">CProxyData</a> *ProxyData=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac6b898e0b60f89a90339eb6eb07a117e"></a><!-- doxytag: member="CServerSocket::ConnectToServer" ref="ac6b898e0b60f89a90339eb6eb07a117e" args="(CServer *server, bool bNoCrypt=false)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>ConnectToServer</b> (<a class="el" href="classCServer.html">CServer</a> *server, bool bNoCrypt=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a165e8d8a5a771b4e7ea9507c58b42e2d"></a><!-- doxytag: member="CServerSocket::GetConnectionState" ref="a165e8d8a5a771b4e7ea9507c58b42e2d" args="() const " -->
sint8&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetConnectionState</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a951202f359e440f60d1ffeae927239ed"></a><!-- doxytag: member="CServerSocket::GetLastTransmission" ref="a951202f359e440f60d1ffeae927239ed" args="() const " -->
uint32&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetLastTransmission</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a981a90655deba912dfa5ce315c1e5cdd"></a><!-- doxytag: member="CServerSocket::OnClose" ref="a981a90655deba912dfa5ce315c1e5cdd" args="(wxSocketError nErrorCode)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>OnClose</b> (wxSocketError nErrorCode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a19645062931310e4057a73377eadb89b"></a><!-- doxytag: member="CServerSocket::OnConnect" ref="a19645062931310e4057a73377eadb89b" args="(wxSocketError nErrorCode)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>OnConnect</b> (wxSocketError nErrorCode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8163e8c87d5802aa91e1ff76d91bdc0d"></a><!-- doxytag: member="CServerSocket::OnReceive" ref="a8163e8c87d5802aa91e1ff76d91bdc0d" args="(wxSocketError nErrorCode)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>OnReceive</b> (wxSocketError nErrorCode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6d0530b8393513a111c4c217866f5021"></a><!-- doxytag: member="CServerSocket::OnError" ref="a6d0530b8393513a111c4c217866f5021" args="(wxSocketError nErrorCode)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>OnError</b> (wxSocketError nErrorCode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a31b05820b1fcade779640a8a9af7063f"></a><!-- doxytag: member="CServerSocket::PacketReceived" ref="a31b05820b1fcade779640a8a9af7063f" args="(CPacket *packet)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>PacketReceived</b> (<a class="el" href="classCPacket.html">CPacket</a> *packet)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCServerSocket.html#a0f6a39e240dfffbf7673d76f1eeba377">SendPacket</a> (<a class="el" href="classCPacket.html">CPacket</a> *packet, bool delpacket=true, bool controlpacket=true, uint32 actualPayloadSize=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afc3f39e8b0528dc863a093a9e3a0fd45"></a><!-- doxytag: member="CServerSocket::IsSolving" ref="afc3f39e8b0528dc863a093a9e3a0fd45" args="() const " -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>IsSolving</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8aa4a0ef29d3f9bf39f95a7038c047f7"></a><!-- doxytag: member="CServerSocket::OnHostnameResolved" ref="a8aa4a0ef29d3f9bf39f95a7038c047f7" args="(uint32 ip)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>OnHostnameResolved</b> (uint32 ip)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1cbc5c14987fa760f0329981123165d9"></a><!-- doxytag: member="CServerSocket::GetServerConnected" ref="a1cbc5c14987fa760f0329981123165d9" args="() const " -->
<a class="el" href="classCServer.html">CServer</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetServerConnected</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5ef2eb30bc0009bacf39001401714134"></a><!-- doxytag: member="CServerSocket::GetServerIP" ref="a5ef2eb30bc0009bacf39001401714134" args="() const " -->
uint32&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetServerIP</b> () const </td></tr>
<tr><td colspan="2"><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4252e90ad29f96aae2089fe98001efc2"></a><!-- doxytag: member="CServerSocket::info" ref="a4252e90ad29f96aae2089fe98001efc2" args="" -->
wxString&nbsp;</td><td class="memItemRight" valign="bottom"><b>info</b></td></tr>
<tr><td colspan="2"><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1b7e7d65d9df9896cabeeee7d1616a95"></a><!-- doxytag: member="CServerSocket::ProcessPacket" ref="a1b7e7d65d9df9896cabeeee7d1616a95" args="(const byte *packet, uint32 size, int8 opcode)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>ProcessPacket</b> (const byte *packet, uint32 size, int8 opcode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4f88598a8b46040d0cb9c76268b97ee4"></a><!-- doxytag: member="CServerSocket::SetConnectionState" ref="a4f88598a8b46040d0cb9c76268b97ee4" args="(sint8 newstate)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>SetConnectionState</b> (sint8 newstate)</td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a74d0e894752f0d90895362f357f3077b"></a><!-- doxytag: member="CServerSocket::serverconnect" ref="a74d0e894752f0d90895362f357f3077b" args="" -->
<a class="el" href="classCServerConnect.html">CServerConnect</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>serverconnect</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a24d298cf39f830af9a0bf487b57a9a3c"></a><!-- doxytag: member="CServerSocket::connectionstate" ref="a24d298cf39f830af9a0bf487b57a9a3c" args="" -->
sint8&nbsp;</td><td class="memItemRight" valign="bottom"><b>connectionstate</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae9c43181cda6500c58c934fb75444622"></a><!-- doxytag: member="CServerSocket::cur_server" ref="ae9c43181cda6500c58c934fb75444622" args="" -->
<a class="el" href="classCServer.html">CServer</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>cur_server</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a94863f3cbbe8738b9525a9e4a3caa514"></a><!-- doxytag: member="CServerSocket::m_bNoCrypt" ref="a94863f3cbbe8738b9525a9e4a3caa514" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_bNoCrypt</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a36c7de6ae203d48e5372a13a2fa96a12"></a><!-- doxytag: member="CServerSocket::headercomplete" ref="a36c7de6ae203d48e5372a13a2fa96a12" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>headercomplete</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a36fe83ac8c26de14c4f1ce2bae5a0b0c"></a><!-- doxytag: member="CServerSocket::sizetoget" ref="a36fe83ac8c26de14c4f1ce2bae5a0b0c" args="" -->
int32&nbsp;</td><td class="memItemRight" valign="bottom"><b>sizetoget</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abd5fd90e9028bf4adbdf536223bef9df"></a><!-- doxytag: member="CServerSocket::sizereceived" ref="abd5fd90e9028bf4adbdf536223bef9df" args="" -->
int32&nbsp;</td><td class="memItemRight" valign="bottom"><b>sizereceived</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0ea27b5e0a7abfb927088e7ef3cba72a"></a><!-- doxytag: member="CServerSocket::rbuffer" ref="a0ea27b5e0a7abfb927088e7ef3cba72a" args="" -->
char *&nbsp;</td><td class="memItemRight" valign="bottom"><b>rbuffer</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acdf3010d76dd4111e53deb8ad0f97dd1"></a><!-- doxytag: member="CServerSocket::m_bIsDeleting" ref="acdf3010d76dd4111e53deb8ad0f97dd1" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_bIsDeleting</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab62d2dd2fd84d6cba3b525629a643142"></a><!-- doxytag: member="CServerSocket::m_dwLastTransmission" ref="ab62d2dd2fd84d6cba3b525629a643142" args="" -->
uint32&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_dwLastTransmission</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a378e26a1deefddf7e33673f18422739e"></a><!-- doxytag: member="CServerSocket::m_IsSolving" ref="a378e26a1deefddf7e33673f18422739e" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_IsSolving</b></td></tr>
<tr><td colspan="2"><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a28e5e515e657d2f8581c28ee9e06d537"></a><!-- doxytag: member="CServerSocket::CServerConnect" ref="a28e5e515e657d2f8581c28ee9e06d537" args="" -->
class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCServerSocket.html#a28e5e515e657d2f8581c28ee9e06d537">CServerConnect</a></td></tr>
</table>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a0f6a39e240dfffbf7673d76f1eeba377"></a><!-- doxytag: member="CServerSocket::SendPacket" ref="a0f6a39e240dfffbf7673d76f1eeba377" args="(CPacket *packet, bool delpacket=true, bool controlpacket=true, uint32 actualPayloadSize=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CServerSocket::SendPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCPacket.html">CPacket</a> *&nbsp;</td>
          <td class="paramname"> <em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>delpacket</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>controlpacket</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&nbsp;</td>
          <td class="paramname"> <em>actualPayloadSize</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Queues up the packet to be sent. </p>
<p>Another thread will actually send the packet.</p>
<p>If the packet is not a control packet, and if the socket decides that its queue is full and forceAdd is false, then the socket is allowed to refuse to add the packet to its queue. It will then return false and it is up to the calling thread to try to call SendPacket for that packet again at a later time.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packet</em>&nbsp;</td><td>address to the packet that should be added to the queue</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>delpacket</em>&nbsp;</td><td>if true, the responsibility for deleting the packet after it has been sent has been transferred to this object. If false, don't delete the packet after it has been sent.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>controlpacket</em>&nbsp;</td><td>the packet is a controlpacket</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>forceAdd</em>&nbsp;</td><td>this packet must be added to the queue, even if it is full. If this flag is true then the method can not refuse to add the packet, and therefore not return false.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the packet was added to the queue, false otherwise </dd></dl>

<p>Reimplemented from <a class="el" href="classCEMSocket.html#ab410d8113285acfaac0ac268f455d06c">CEMSocket</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="ServerSocket_8h_source.html">ServerSocket.h</a></li>
<li>src/ServerSocket.cpp</li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 4 Dec 2014 for aMule by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
