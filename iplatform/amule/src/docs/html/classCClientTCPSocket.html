<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>aMule: CClientTCPSocket Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>CClientTCPSocket Class Reference</h1><!-- doxytag: class="CClientTCPSocket" --><!-- doxytag: inherits="CEMSocket" --><div class="dynheader">
Inheritance diagram for CClientTCPSocket:</div>
<div class="dynsection">
 <div class="center">
  <img src="classCClientTCPSocket.gif" usemap="#CClientTCPSocket_map" alt=""/>
  <map id="CClientTCPSocket_map" name="CClientTCPSocket_map">
<area href="classCEMSocket.html" alt="CEMSocket" shape="rect" coords="83,168,239,192"/>
<area href="classCEncryptedStreamSocket.html" alt="CEncryptedStreamSocket" shape="rect" coords="0,112,156,136"/>
<area href="classThrottledFileSocket.html" alt="ThrottledFileSocket" shape="rect" coords="166,112,322,136"/>
<area href="classCSocketClientProxy.html" alt="CSocketClientProxy" shape="rect" coords="0,56,156,80"/>
<area href="classThrottledControlSocket.html" alt="ThrottledControlSocket" shape="rect" coords="166,56,322,80"/>
<area href="classCProxySocket.html" alt="CProxySocket" shape="rect" coords="0,0,156,24"/>
</map>
 </div>
</div>

<p><a href="classCClientTCPSocket-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8525fd82e918c22d4502efe107a0bdf0"></a><!-- doxytag: member="CClientTCPSocket::CClientTCPSocket" ref="a8525fd82e918c22d4502efe107a0bdf0" args="(CUpDownClient *in_client=NULL, const CProxyData *ProxyData=NULL)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>CClientTCPSocket</b> (<a class="el" href="classCUpDownClient.html">CUpDownClient</a> *in_client=NULL, const <a class="el" href="classCProxyData.html">CProxyData</a> *ProxyData=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab771ad82088783c0851dc2e761d59cd0"></a><!-- doxytag: member="CClientTCPSocket::Disconnect" ref="ab771ad82088783c0851dc2e761d59cd0" args="(const wxString &amp;strReason)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>Disconnect</b> (const wxString &amp;strReason)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a24ac101f77a49ec11aafd0034373e4f7"></a><!-- doxytag: member="CClientTCPSocket::InitNetworkData" ref="a24ac101f77a49ec11aafd0034373e4f7" args="()" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>InitNetworkData</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a423b807acb6a0efbf3c87ec65be93370"></a><!-- doxytag: member="CClientTCPSocket::CheckTimeOut" ref="a423b807acb6a0efbf3c87ec65be93370" args="()" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>CheckTimeOut</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a314d23afb94a35cf4d5f7da95fe15b95"></a><!-- doxytag: member="CClientTCPSocket::Safe_Delete" ref="a314d23afb94a35cf4d5f7da95fe15b95" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>Safe_Delete</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a94d7b4bc45b73f115663c7970924bc27"></a><!-- doxytag: member="CClientTCPSocket::Safe_Delete_Client" ref="a94d7b4bc45b73f115663c7970924bc27" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>Safe_Delete_Client</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a17dab289462238116305c43c0817609a"></a><!-- doxytag: member="CClientTCPSocket::ForDeletion" ref="a17dab289462238116305c43c0817609a" args="() const " -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>ForDeletion</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7a838f8aa4dcae7dda96424c14e9d80b"></a><!-- doxytag: member="CClientTCPSocket::OnConnect" ref="a7a838f8aa4dcae7dda96424c14e9d80b" args="(int nErrorCode)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>OnConnect</b> (int nErrorCode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a747a97280276d7a7479329ea589e489b"></a><!-- doxytag: member="CClientTCPSocket::OnSend" ref="a747a97280276d7a7479329ea589e489b" args="(int nErrorCode)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>OnSend</b> (int nErrorCode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a269deff51d3d4968ea5678e2f4ae6f9b"></a><!-- doxytag: member="CClientTCPSocket::OnReceive" ref="a269deff51d3d4968ea5678e2f4ae6f9b" args="(int nErrorCode)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>OnReceive</b> (int nErrorCode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adf17b61610364e78302418faad5e5dc1"></a><!-- doxytag: member="CClientTCPSocket::OnClose" ref="adf17b61610364e78302418faad5e5dc1" args="(int nErrorCode)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>OnClose</b> (int nErrorCode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a34ce702be978eb0ee44ab343b8da921c"></a><!-- doxytag: member="CClientTCPSocket::OnError" ref="a34ce702be978eb0ee44ab343b8da921c" args="(int nErrorCode)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>OnError</b> (int nErrorCode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a27adb6f3cc58792c7c6b7cea62549395"></a><!-- doxytag: member="CClientTCPSocket::GetRemoteIP" ref="a27adb6f3cc58792c7c6b7cea62549395" args="() const " -->
uint32&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetRemoteIP</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa24199b523d9ffeb132c9670dc5f74fd"></a><!-- doxytag: member="CClientTCPSocket::GetClient" ref="aa24199b523d9ffeb132c9670dc5f74fd" args="()" -->
<a class="el" href="classCUpDownClient.html">CUpDownClient</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetClient</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientTCPSocket.html#a78237fc807229ec1d0cb1f3977c7df79">SendPacket</a> (<a class="el" href="classCPacket.html">CPacket</a> *packet, bool delpacket=true, bool controlpacket=true, uint32 actualPayloadSize=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a33c75fa1b894cc2e84f806081491ef11"></a><!-- doxytag: member="CClientTCPSocket::SendControlData" ref="a33c75fa1b894cc2e84f806081491ef11" args="(uint32 maxNumberOfBytesToSend, uint32 overchargeMaxBytesToSend)" -->
virtual <a class="el" href="structSocketSentBytes.html">SocketSentBytes</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>SendControlData</b> (uint32 maxNumberOfBytesToSend, uint32 overchargeMaxBytesToSend)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a95bec056c2c8ff186dc61e925b9c67bd"></a><!-- doxytag: member="CClientTCPSocket::SendFileAndControlData" ref="a95bec056c2c8ff186dc61e925b9c67bd" args="(uint32 maxNumberOfBytesToSend, uint32 overchargeMaxBytesToSend)" -->
virtual <a class="el" href="structSocketSentBytes.html">SocketSentBytes</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>SendFileAndControlData</b> (uint32 maxNumberOfBytesToSend, uint32 overchargeMaxBytesToSend)</td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac68605b3f2d747b421b3b62e3b7612f8"></a><!-- doxytag: member="CClientTCPSocket::PacketReceived" ref="ac68605b3f2d747b421b3b62e3b7612f8" args="(CPacket *packet)" -->
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>PacketReceived</b> (<a class="el" href="classCPacket.html">CPacket</a> *packet)</td></tr>
<tr><td colspan="2"><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1983a7284f0c271c8a948dd10f9ebc43"></a><!-- doxytag: member="CClientTCPSocket::ProcessPacket" ref="a1983a7284f0c271c8a948dd10f9ebc43" args="(const byte *packet, uint32 size, uint8 opcode)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>ProcessPacket</b> (const byte *packet, uint32 size, uint8 opcode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad52f69af8e85c591d36504ea067d4715"></a><!-- doxytag: member="CClientTCPSocket::ProcessExtPacket" ref="ad52f69af8e85c591d36504ea067d4715" args="(const byte *packet, uint32 size, uint8 opcode)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>ProcessExtPacket</b> (const byte *packet, uint32 size, uint8 opcode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a08d1f7e4fd34bf6a0cf75dd3c0691430"></a><!-- doxytag: member="CClientTCPSocket::ProcessED2Kv2Packet" ref="a08d1f7e4fd34bf6a0cf75dd3c0691430" args="(const byte *packet, uint32 size, uint8 opcode)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>ProcessED2Kv2Packet</b> (const byte *packet, uint32 size, uint8 opcode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab5a1578964721697388feabd3300da48"></a><!-- doxytag: member="CClientTCPSocket::ResetTimeOutTimer" ref="ab5a1578964721697388feabd3300da48" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>ResetTimeOutTimer</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a73a0537a0a1cd7c53cc7e4904fcbeb37"></a><!-- doxytag: member="CClientTCPSocket::SetClient" ref="a73a0537a0a1cd7c53cc7e4904fcbeb37" args="(CUpDownClient *client)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>SetClient</b> (<a class="el" href="classCUpDownClient.html">CUpDownClient</a> *client)</td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a584d426b1e4da62dc5cac0a306941204"></a><!-- doxytag: member="CClientTCPSocket::m_client" ref="a584d426b1e4da62dc5cac0a306941204" args="" -->
<a class="el" href="classCUpDownClient.html">CUpDownClient</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_client</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a73254bd896f5cb3408c1c740e4345b13"></a><!-- doxytag: member="CClientTCPSocket::m_ForDeletion" ref="a73254bd896f5cb3408c1c740e4345b13" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_ForDeletion</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2a5693ffffc5e23f64a79fe61d9d1cb0"></a><!-- doxytag: member="CClientTCPSocket::timeout_timer" ref="a2a5693ffffc5e23f64a79fe61d9d1cb0" args="" -->
uint32&nbsp;</td><td class="memItemRight" valign="bottom"><b>timeout_timer</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aae64d3bb88cdc79af5a637fe3a702f9c"></a><!-- doxytag: member="CClientTCPSocket::m_remoteip" ref="aae64d3bb88cdc79af5a637fe3a702f9c" args="" -->
uint32&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_remoteip</b></td></tr>
</table>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a78237fc807229ec1d0cb1f3977c7df79"></a><!-- doxytag: member="CClientTCPSocket::SendPacket" ref="a78237fc807229ec1d0cb1f3977c7df79" args="(CPacket *packet, bool delpacket=true, bool controlpacket=true, uint32 actualPayloadSize=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CClientTCPSocket::SendPacket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCPacket.html">CPacket</a> *&nbsp;</td>
          <td class="paramname"> <em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>delpacket</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>controlpacket</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&nbsp;</td>
          <td class="paramname"> <em>actualPayloadSize</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Queues up the packet to be sent. </p>
<p>Another thread will actually send the packet.</p>
<p>If the packet is not a control packet, and if the socket decides that its queue is full and forceAdd is false, then the socket is allowed to refuse to add the packet to its queue. It will then return false and it is up to the calling thread to try to call SendPacket for that packet again at a later time.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packet</em>&nbsp;</td><td>address to the packet that should be added to the queue</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>delpacket</em>&nbsp;</td><td>if true, the responsibility for deleting the packet after it has been sent has been transferred to this object. If false, don't delete the packet after it has been sent.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>controlpacket</em>&nbsp;</td><td>the packet is a controlpacket</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>forceAdd</em>&nbsp;</td><td>this packet must be added to the queue, even if it is full. If this flag is true then the method can not refuse to add the packet, and therefore not return false.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the packet was added to the queue, false otherwise </dd></dl>

<p>Reimplemented from <a class="el" href="classCEMSocket.html#ab410d8113285acfaac0ac268f455d06c">CEMSocket</a>.</p>

<p>Referenced by <a class="el" href="BaseClient_8cpp_source.html#l02366">CUpDownClient::SendPacket()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="ClientTCPSocket_8h_source.html">ClientTCPSocket.h</a></li>
<li>src/ClientTCPSocket.cpp</li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 4 Dec 2014 for aMule by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
