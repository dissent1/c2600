<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>aMule: CProxyStateMachine Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>CProxyStateMachine Class Reference</h1><!-- doxytag: class="CProxyStateMachine" --><!-- doxytag: inherits="CStateMachine" -->
<p>The ProxyStateMachine class is the ancestor of all proxy classes.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Proxy_8h_source.html">Proxy.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CProxyStateMachine:</div>
<div class="dynsection">
 <div class="center">
  <img src="classCProxyStateMachine.gif" usemap="#CProxyStateMachine_map" alt=""/>
  <map id="CProxyStateMachine_map" name="CProxyStateMachine_map">
<area href="classCStateMachine.html" alt="CStateMachine" shape="rect" coords="149,0,288,24"/>
<area href="classCHttpStateMachine.html" alt="CHttpStateMachine" shape="rect" coords="0,112,139,136"/>
<area href="classCSocks4StateMachine.html" alt="CSocks4StateMachine" shape="rect" coords="149,112,288,136"/>
<area href="classCSocks5StateMachine.html" alt="CSocks5StateMachine" shape="rect" coords="298,112,437,136"/>
</map>
 </div>
</div>

<p><a href="classCProxyStateMachine-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCProxyStateMachine.html#a6fd1038a4f457e3e91bbab5919ff7c82">CProxyStateMachine</a> (wxString name, const unsigned int max_states, const <a class="el" href="classCProxyData.html">CProxyData</a> &amp;proxyData, CProxyCommand cmd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a908db34d47f857937e4a7817b3655241"></a><!-- doxytag: member="CProxyStateMachine::~CProxyStateMachine" ref="a908db34d47f857937e4a7817b3655241" args="()" -->
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCProxyStateMachine.html#a908db34d47f857937e4a7817b3655241">~CProxyStateMachine</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a110706b7d0b0545ebcb262f9a202f29d"></a><!-- doxytag: member="CProxyStateMachine::Start" ref="a110706b7d0b0545ebcb262f9a202f29d" args="(const wxIPaddress &amp;peerAddress, wxSocketClient *proxyClientSocket)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>Start</b> (const wxIPaddress &amp;peerAddress, wxSocketClient *proxyClientSocket)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9783cc7f84331f5742419fc0d88c5fd8"></a><!-- doxytag: member="CProxyStateMachine::HandleEvent" ref="a9783cc7f84331f5742419fc0d88c5fd8" args="(t_sm_event event)" -->
t_sm_state&nbsp;</td><td class="memItemRight" valign="bottom"><b>HandleEvent</b> (t_sm_event event)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a38af9dd346408f3f62d7a33a3952970d"></a><!-- doxytag: member="CProxyStateMachine::AddDummyEvent" ref="a38af9dd346408f3f62d7a33a3952970d" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>AddDummyEvent</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ace850d0b62aad84b4b21bb0f708be641"></a><!-- doxytag: member="CProxyStateMachine::ReactivateSocket" ref="ace850d0b62aad84b4b21bb0f708be641" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>ReactivateSocket</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a95bf7e1739f65f61e5f918da52039014"></a><!-- doxytag: member="CProxyStateMachine::GetBuffer" ref="a95bf7e1739f65f61e5f918da52039014" args="()" -->
char *&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetBuffer</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac203f39b3d8a171cdcf07ff726172ac4"></a><!-- doxytag: member="CProxyStateMachine::GetProxyBoundAddress" ref="ac203f39b3d8a171cdcf07ff726172ac4" args="(void) const " -->
wxIPaddress &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetProxyBoundAddress</b> (void) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8eefdb12e3ba468b86914909a5e199d7"></a><!-- doxytag: member="CProxyStateMachine::GetLastReply" ref="a8eefdb12e3ba468b86914909a5e199d7" args="(void) const " -->
unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetLastReply</b> (void) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1d05bb0a8b6ccc843dd26d0f719d2116"></a><!-- doxytag: member="CProxyStateMachine::IsEndState" ref="a1d05bb0a8b6ccc843dd26d0f719d2116" args="() const " -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>IsEndState</b> () const </td></tr>
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static wxString &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCProxyStateMachine.html#af6189b24a6d9320c5327b377af19f473">NewName</a> (wxString &amp;s, CProxyCommand cmd)</td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa205924b0806a723639cd7ae0d268b45"></a><!-- doxytag: member="CProxyStateMachine::ProxyWrite" ref="aa205924b0806a723639cd7ae0d268b45" args="(wxSocketBase &amp;socket, const void *buffer, wxUint32 nbytes)" -->
wxSocketBase &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>ProxyWrite</b> (wxSocketBase &amp;socket, const void *buffer, wxUint32 nbytes)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a97cb2b3785b88afe9cd139a8b181689d"></a><!-- doxytag: member="CProxyStateMachine::ProxyRead" ref="a97cb2b3785b88afe9cd139a8b181689d" args="(wxSocketBase &amp;socket, void *buffer)" -->
wxSocketBase &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>ProxyRead</b> (wxSocketBase &amp;socket, void *buffer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae312f40bd9be272708de860dc231a03d"></a><!-- doxytag: member="CProxyStateMachine::CanReceive" ref="ae312f40bd9be272708de860dc231a03d" args="() const " -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>CanReceive</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a54610e432ab524f08901b13c46a174d2"></a><!-- doxytag: member="CProxyStateMachine::CanSend" ref="a54610e432ab524f08901b13c46a174d2" args="() const " -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>CanSend</b> () const </td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad93c941151af911427f7d2e84f842c7e"></a><!-- doxytag: member="CProxyStateMachine::m_proxyData" ref="ad93c941151af911427f7d2e84f842c7e" args="" -->
const <a class="el" href="classCProxyData.html">CProxyData</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_proxyData</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab88a8615a3ded1d615de4afb4bbe8edb"></a><!-- doxytag: member="CProxyStateMachine::m_proxyCommand" ref="ab88a8615a3ded1d615de4afb4bbe8edb" args="" -->
CProxyCommand&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_proxyCommand</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afe30398fd23e69b30193db7863ad779e"></a><!-- doxytag: member="CProxyStateMachine::m_buffer" ref="afe30398fd23e69b30193db7863ad779e" args="[PROXY_BUFFER_SIZE]" -->
char&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_buffer</b> [PROXY_BUFFER_SIZE]</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a11a83f22769dd65b5740bfb22a403ceb"></a><!-- doxytag: member="CProxyStateMachine::m_isLost" ref="a11a83f22769dd65b5740bfb22a403ceb" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_isLost</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a348e918f258c7d9d0a1085fba9fde9e8"></a><!-- doxytag: member="CProxyStateMachine::m_isConnected" ref="a348e918f258c7d9d0a1085fba9fde9e8" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_isConnected</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7fa930c9678e28691873b08add8ad9a1"></a><!-- doxytag: member="CProxyStateMachine::m_canReceive" ref="a7fa930c9678e28691873b08add8ad9a1" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_canReceive</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a34dd5a1ff73138a04d24cbd351010b4e"></a><!-- doxytag: member="CProxyStateMachine::m_canSend" ref="a34dd5a1ff73138a04d24cbd351010b4e" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_canSend</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af172dd2433d1557cc9f50e4311f7d4a1"></a><!-- doxytag: member="CProxyStateMachine::m_ok" ref="af172dd2433d1557cc9f50e4311f7d4a1" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_ok</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a798f86c843b64e0d71dd97e96aa60817"></a><!-- doxytag: member="CProxyStateMachine::m_lastRead" ref="a798f86c843b64e0d71dd97e96aa60817" args="" -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_lastRead</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a83e09c9f18545177ee1dcf965f802026"></a><!-- doxytag: member="CProxyStateMachine::m_lastWritten" ref="a83e09c9f18545177ee1dcf965f802026" args="" -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_lastWritten</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a751a684eeac30f940839723e41d01b6b"></a><!-- doxytag: member="CProxyStateMachine::m_lastError" ref="a751a684eeac30f940839723e41d01b6b" args="" -->
wxSocketError&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_lastError</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abc0262ce3dd95f3a8315706838cef2d4"></a><!-- doxytag: member="CProxyStateMachine::m_peerAddress" ref="abc0262ce3dd95f3a8315706838cef2d4" args="" -->
wxIPaddress *&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_peerAddress</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aac83c28bb0ca7c6c31d67f213587a6cd"></a><!-- doxytag: member="CProxyStateMachine::m_proxyClientSocket" ref="aac83c28bb0ca7c6c31d67f213587a6cd" args="" -->
wxSocketClient *&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_proxyClientSocket</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a309c2beb98cf4a267f36b7121a352a20"></a><!-- doxytag: member="CProxyStateMachine::m_proxyBoundAddress" ref="a309c2beb98cf4a267f36b7121a352a20" args="" -->
wxIPaddress *&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_proxyBoundAddress</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a06f244194f1ba8328136d1e1421ffafe"></a><!-- doxytag: member="CProxyStateMachine::m_proxyBoundAddressIPV4" ref="a06f244194f1ba8328136d1e1421ffafe" args="" -->
<a class="el" href="classamuleIPV4Address.html">amuleIPV4Address</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_proxyBoundAddressIPV4</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad7a2a5967cc0d0655bdf4a6e0297dd3f"></a><!-- doxytag: member="CProxyStateMachine::m_lastReply" ref="ad7a2a5967cc0d0655bdf4a6e0297dd3f" args="" -->
unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_lastReply</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8cfbcae15a3ca270c311755a4b130d5f"></a><!-- doxytag: member="CProxyStateMachine::m_packetLenght" ref="a8cfbcae15a3ca270c311755a4b130d5f" args="" -->
unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_packetLenght</b></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The ProxyStateMachine class is the ancestor of all proxy classes. </p>
<p><a class="el" href="classCProxyStateMachine.html" title="The ProxyStateMachine class is the ancestor of all proxy classes.">CProxyStateMachine</a> will do all the common work that a proxy class must do and provide the necessary variables. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6fd1038a4f457e3e91bbab5919ff7c82"></a><!-- doxytag: member="CProxyStateMachine::CProxyStateMachine" ref="a6fd1038a4f457e3e91bbab5919ff7c82" args="(wxString name, const unsigned int max_states, const CProxyData &amp;proxyData, CProxyCommand cmd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CProxyStateMachine::CProxyStateMachine </td>
          <td>(</td>
          <td class="paramtype">wxString&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&nbsp;</td>
          <td class="paramname"> <em>max_states</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCProxyData.html">CProxyData</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>proxyData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CProxyCommand&nbsp;</td>
          <td class="paramname"> <em>cmd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>The name of the state machine. For debug messages only. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>max_states</em>&nbsp;</td><td>The maximum number of states that this machine will have. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>proxyData</em>&nbsp;</td><td>The necessary proxy information. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>The type of proxy command to run. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="af6189b24a6d9320c5327b377af19f473"></a><!-- doxytag: member="CProxyStateMachine::NewName" ref="af6189b24a6d9320c5327b377af19f473" args="(wxString &amp;s, CProxyCommand cmd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wxString &amp; CProxyStateMachine::NewName </td>
          <td>(</td>
          <td class="paramtype">wxString &amp;&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CProxyCommand&nbsp;</td>
          <td class="paramname"> <em>cmd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds a small string to the state machine name, containing the proxy command. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>The original state machine name. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>The proxy command. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="Proxy_8h_source.html">Proxy.h</a></li>
<li>src/Proxy.cpp</li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 4 Dec 2014 for aMule by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
