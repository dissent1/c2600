<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>aMule: CECSocket Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>CECSocket Class Reference</h1><!-- doxytag: class="CECSocket" -->
<p>Socket handler for External Communications (EC).  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ECSocket_8h_source.html">ECSocket.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CECSocket:</div>
<div class="dynsection">
 <div class="center">
  <img src="classCECSocket.gif" usemap="#CECSocket_map" alt=""/>
  <map id="CECSocket_map" name="CECSocket_map">
<area href="classCECMuleSocket.html" alt="CECMuleSocket" shape="rect" coords="62,56,177,80"/>
<area href="classCECServerSocket.html" alt="CECServerSocket" shape="rect" coords="0,112,115,136"/>
<area href="classCRemoteConnect.html" alt="CRemoteConnect" shape="rect" coords="125,112,240,136"/>
</map>
 </div>
</div>

<p><a href="classCECSocket-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2b302803af38f6c05e80e80839406038"></a><!-- doxytag: member="CECSocket::CECSocket" ref="a2b302803af38f6c05e80e80839406038" args="(bool use_events)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>CECSocket</b> (bool use_events)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aab0c63c06c5a5186a67017bbf13a1aaa"></a><!-- doxytag: member="CECSocket::ConnectSocket" ref="aab0c63c06c5a5186a67017bbf13a1aaa" args="(uint32_t ip, uint16_t port)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>ConnectSocket</b> (uint32_t ip, uint16_t port)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abe44aa29571613bc14d807de6cad04ed"></a><!-- doxytag: member="CECSocket::CloseSocket" ref="abe44aa29571613bc14d807de6cad04ed" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>CloseSocket</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab2b69e2cd8e04fb4604d5ab1e1165fbd"></a><!-- doxytag: member="CECSocket::HaveNotificationSupport" ref="ab2b69e2cd8e04fb4604d5ab1e1165fbd" args="() const " -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>HaveNotificationSupport</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCECSocket.html#ad399e6f57eebdf868b20612d6dab14a1">SendPacket</a> (const <a class="el" href="classCECPacket.html">CECPacket</a> *packet)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classCECPacket.html">CECPacket</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCECSocket.html#aaee01cc0fb0b37fb44ddf8b363cfdbd5">SendRecvPacket</a> (const <a class="el" href="classCECPacket.html">CECPacket</a> *request)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="classCECPacket.html">CECPacket</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCECSocket.html#a4026f260f7839bf95a02f1c178bf2d52">OnPacketReceived</a> (const <a class="el" href="classCECPacket.html">CECPacket</a> *packet, uint32 trueSize)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCECSocket.html#a24987c711df4f3170357a6beaf6fedc9">GetLastErrorMsg</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCECSocket.html#aaebdc212a0c6d7f32d4fd53fe930e6fa">OnError</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCECSocket.html#aa1245e93fc1a8f8ad6f1ac0e50c51d97">OnLost</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCECSocket.html#a594e4c41c8dcaf3c5469e9a01ffd86b8">OnConnect</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae1667ef102d103c357761732c3e084d7"></a><!-- doxytag: member="CECSocket::OnInput" ref="ae1667ef102d103c357761732c3e084d7" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>OnInput</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a749929485895d76eb5312c5dc26a2c01"></a><!-- doxytag: member="CECSocket::OnOutput" ref="a749929485895d76eb5312c5dc26a2c01" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>OnOutput</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a28083606041a75a7777ea2538ad9ad2e"></a><!-- doxytag: member="CECSocket::WouldBlock" ref="a28083606041a75a7777ea2538ad9ad2e" args="()" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>WouldBlock</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2570bea151994c7d9ad1fac65de91fb2"></a><!-- doxytag: member="CECSocket::GotError" ref="a2570bea151994c7d9ad1fac65de91fb2" args="()" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>GotError</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a179303528505134a5ef035c667741a45"></a><!-- doxytag: member="CECSocket::SocketRead" ref="a179303528505134a5ef035c667741a45" args="(void *ptr, size_t len)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>SocketRead</b> (void *ptr, size_t len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae4c7a7c2baa596c53fc3ae9e72d8c91a"></a><!-- doxytag: member="CECSocket::SocketWrite" ref="ae4c7a7c2baa596c53fc3ae9e72d8c91a" args="(const void *ptr, size_t len)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>SocketWrite</b> (const void *ptr, size_t len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aad7a0fae47b3453f180e57b2feb53603"></a><!-- doxytag: member="CECSocket::SocketError" ref="aad7a0fae47b3453f180e57b2feb53603" args="()" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>SocketError</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aed7ffcc51e27ed7ace348dfb8501dc44"></a><!-- doxytag: member="CECSocket::SocketRealError" ref="aed7ffcc51e27ed7ace348dfb8501dc44" args="()" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>SocketRealError</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="add10b9058fc070514970bfd27ba5a821"></a><!-- doxytag: member="CECSocket::GetLastCount" ref="add10b9058fc070514970bfd27ba5a821" args="()" -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetLastCount</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5738d72aaaf49b210335107fe9b9375b"></a><!-- doxytag: member="CECSocket::WaitSocketConnect" ref="a5738d72aaaf49b210335107fe9b9375b" args="(long secs=&#45;1, long msecs=0)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>WaitSocketConnect</b> (long secs=-1, long msecs=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa5a295d330a81ae0bd1cce2c60619ddb"></a><!-- doxytag: member="CECSocket::WaitSocketWrite" ref="aa5a295d330a81ae0bd1cce2c60619ddb" args="(long secs=&#45;1, long msecs=0)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>WaitSocketWrite</b> (long secs=-1, long msecs=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac0de83d26f9947e82d837a48d96d04b6"></a><!-- doxytag: member="CECSocket::WaitSocketRead" ref="ac0de83d26f9947e82d837a48d96d04b6" args="(long secs=&#45;1, long msecs=0)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>WaitSocketRead</b> (long secs=-1, long msecs=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a575661b19b0502195688650c8ea59177"></a><!-- doxytag: member="CECSocket::IsSocketConnected" ref="a575661b19b0502195688650c8ea59177" args="()" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>IsSocketConnected</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aea1cc85ac59c81178d2b783051e16fd1"></a><!-- doxytag: member="CECSocket::DestroySocket" ref="aea1cc85ac59c81178d2b783051e16fd1" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>DestroySocket</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ada6f7c8a608569c0e1a2c4a764e67e33"></a><!-- doxytag: member="CECSocket::DataPending" ref="ada6f7c8a608569c0e1a2c4a764e67e33" args="()" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>DataPending</b> ()</td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5caffd62f11d8fbb31d4ccd48340c978"></a><!-- doxytag: member="CECSocket::m_my_flags" ref="a5caffd62f11d8fbb31d4ccd48340c978" args="" -->
uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_my_flags</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab62bc6dc8602ee8623abe84a9b0cd5c4"></a><!-- doxytag: member="CECSocket::m_haveNotificationSupport" ref="ab62bc6dc8602ee8623abe84a9b0cd5c4" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_haveNotificationSupport</b></td></tr>
<tr><td colspan="2"><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4c06133738dd0e21f4fece6608507307"></a><!-- doxytag: member="CECSocket::ReadPacket" ref="a4c06133738dd0e21f4fece6608507307" args="()" -->
const <a class="el" href="classCECPacket.html">CECPacket</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>ReadPacket</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abf319c90afefe080491a1f1107dcc96f"></a><!-- doxytag: member="CECSocket::WritePacket" ref="abf319c90afefe080491a1f1107dcc96f" args="(const CECPacket *packet)" -->
uint32&nbsp;</td><td class="memItemRight" valign="bottom"><b>WritePacket</b> (const <a class="el" href="classCECPacket.html">CECPacket</a> *packet)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4661cc4f18fdb855d97ec811d90b7894"></a><!-- doxytag: member="CECSocket::ReadNumber" ref="a4661cc4f18fdb855d97ec811d90b7894" args="(void *buffer, size_t len)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>ReadNumber</b> (void *buffer, size_t len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4d02f32840ed50fedf8ea3c10b36a32c"></a><!-- doxytag: member="CECSocket::ReadBuffer" ref="a4d02f32840ed50fedf8ea3c10b36a32c" args="(void *buffer, size_t len)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>ReadBuffer</b> (void *buffer, size_t len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa3dfac56c67bb5dab044298391bd37f7"></a><!-- doxytag: member="CECSocket::ReadHeader" ref="aa3dfac56c67bb5dab044298391bd37f7" args="()" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>ReadHeader</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af28f74b53b70adedee72256b4686b5b5"></a><!-- doxytag: member="CECSocket::WriteNumber" ref="af28f74b53b70adedee72256b4686b5b5" args="(const void *buffer, size_t len)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>WriteNumber</b> (const void *buffer, size_t len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a74ee1e43fb657ae423f61b9020d178c6"></a><!-- doxytag: member="CECSocket::WriteBuffer" ref="a74ee1e43fb657ae423f61b9020d178c6" args="(const void *buffer, size_t len)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>WriteBuffer</b> (const void *buffer, size_t len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a826fc70ae81f6c000d1559bab5bd66db"></a><!-- doxytag: member="CECSocket::FlushBuffers" ref="a826fc70ae81f6c000d1559bab5bd66db" args="()" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>FlushBuffers</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aede069bc0f92dff6dfa413602f444832"></a><!-- doxytag: member="CECSocket::ReadBufferFromSocket" ref="aede069bc0f92dff6dfa413602f444832" args="(void *buffer, size_t len)" -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>ReadBufferFromSocket</b> (void *buffer, size_t len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae62ad47aa9a0bed0cba52c78cca78e8b"></a><!-- doxytag: member="CECSocket::WriteBufferToSocket" ref="ae62ad47aa9a0bed0cba52c78cca78e8b" args="(const void *buffer, size_t len)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>WriteBufferToSocket</b> (const void *buffer, size_t len)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae019b114e448ea5d93866d1f2acef877"></a><!-- doxytag: member="CECSocket::WriteDoneAndQueueEmpty" ref="ae019b114e448ea5d93866d1f2acef877" args="()=0" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><b>WriteDoneAndQueueEmpty</b> ()=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e90fec9696ded1adf77d784193e8bae"></a><!-- doxytag: member="CECSocket::InternalConnect" ref="a1e90fec9696ded1adf77d784193e8bae" args="(uint32_t ip, uint16_t port, bool wait)=0" -->
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>InternalConnect</b> (uint32_t ip, uint16_t port, bool wait)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3ef62ed28466396072ffae3b37b5cbd9"></a><!-- doxytag: member="CECSocket::InternalLastCount" ref="a3ef62ed28466396072ffae3b37b5cbd9" args="()=0" -->
virtual size_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>InternalLastCount</b> ()=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2aafb250281f50a1d8ab48906735f737"></a><!-- doxytag: member="CECSocket::InternalWaitOnConnect" ref="a2aafb250281f50a1d8ab48906735f737" args="(long secs=&#45;1, long msecs=0)=0" -->
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>InternalWaitOnConnect</b> (long secs=-1, long msecs=0)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4a62ddc1c90c36f2ee239d12173cc35d"></a><!-- doxytag: member="CECSocket::InternalWaitForWrite" ref="a4a62ddc1c90c36f2ee239d12173cc35d" args="(long secs=&#45;1, long msecs=0)=0" -->
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>InternalWaitForWrite</b> (long secs=-1, long msecs=0)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac8013d44e596dbaedb10b01c9a2904dd"></a><!-- doxytag: member="CECSocket::InternalWaitForRead" ref="ac8013d44e596dbaedb10b01c9a2904dd" args="(long secs=&#45;1, long msecs=0)=0" -->
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>InternalWaitForRead</b> (long secs=-1, long msecs=0)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1047b6e1a7760f4724a36150ccfdc24e"></a><!-- doxytag: member="CECSocket::InternalGetLastError" ref="a1047b6e1a7760f4724a36150ccfdc24e" args="()=0" -->
virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><b>InternalGetLastError</b> ()=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a745013891ae838446522e7f4a736339b"></a><!-- doxytag: member="CECSocket::InternalClose" ref="a745013891ae838446522e7f4a736339b" args="()=0" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><b>InternalClose</b> ()=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a727282be612fa656fc30b63af5a8e4df"></a><!-- doxytag: member="CECSocket::InternalError" ref="a727282be612fa656fc30b63af5a8e4df" args="()=0" -->
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>InternalError</b> ()=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aed00d6f23392674b18c26fbadb8f9b77"></a><!-- doxytag: member="CECSocket::InternalRead" ref="aed00d6f23392674b18c26fbadb8f9b77" args="(void *ptr, size_t len)=0" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><b>InternalRead</b> (void *ptr, size_t len)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5d45f27ced26e65f175320e0c887ce44"></a><!-- doxytag: member="CECSocket::InternalWrite" ref="a5d45f27ced26e65f175320e0c887ce44" args="(const void *ptr, size_t len)=0" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><b>InternalWrite</b> (const void *ptr, size_t len)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad740198d139ec3bcdfbc458dca4f7d42"></a><!-- doxytag: member="CECSocket::InternalIsConnected" ref="ad740198d139ec3bcdfbc458dca4f7d42" args="()=0" -->
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>InternalIsConnected</b> ()=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="accbc334a7003e58c27f79ec6fe003f3d"></a><!-- doxytag: member="CECSocket::InternalDestroy" ref="accbc334a7003e58c27f79ec6fe003f3d" args="()=0" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><b>InternalDestroy</b> ()=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a47864e5f05595c948c4fd1136b8a2e09"></a><!-- doxytag: member="CECSocket::IsAuthorized" ref="a47864e5f05595c948c4fd1136b8a2e09" args="()" -->
virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>IsAuthorized</b> ()</td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5291418242b3a7d39e3d05f9408f7316"></a><!-- doxytag: member="CECSocket::m_use_events" ref="a5291418242b3a7d39e3d05f9408f7316" args="" -->
const bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_use_events</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2c91657b57df81a805ca33cb27d8bcea"></a><!-- doxytag: member="CECSocket::m_output_queue" ref="a2c91657b57df81a805ca33cb27d8bcea" args="" -->
std::list&lt; <a class="el" href="classCQueuedData.html">CQueuedData</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_output_queue</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aabfb0c93d3ba258edfe7f6bfbd324ad7"></a><!-- doxytag: member="CECSocket::m_in_ptr" ref="aabfb0c93d3ba258edfe7f6bfbd324ad7" args="" -->
std::vector&lt; unsigned char &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_in_ptr</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af14dd36740f7a637660ef44ecb0d7578"></a><!-- doxytag: member="CECSocket::m_out_ptr" ref="af14dd36740f7a637660ef44ecb0d7578" args="" -->
std::vector&lt; unsigned char &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_out_ptr</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5d73de98a83a8cab09e9a063e1422a8d"></a><!-- doxytag: member="CECSocket::m_curr_rx_data" ref="a5d73de98a83a8cab09e9a063e1422a8d" args="" -->
std::auto_ptr&lt; <a class="el" href="classCQueuedData.html">CQueuedData</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_curr_rx_data</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3c8f981f15b032aef75e23237c408b3d"></a><!-- doxytag: member="CECSocket::m_curr_tx_data" ref="a3c8f981f15b032aef75e23237c408b3d" args="" -->
std::auto_ptr&lt; <a class="el" href="classCQueuedData.html">CQueuedData</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_curr_tx_data</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9d09e22b8c975a999813d9a910120ff4"></a><!-- doxytag: member="CECSocket::m_rx_flags" ref="a9d09e22b8c975a999813d9a910120ff4" args="" -->
uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_rx_flags</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2219f847569dc0eb4999752837f5cd89"></a><!-- doxytag: member="CECSocket::m_tx_flags" ref="a2219f847569dc0eb4999752837f5cd89" args="" -->
uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_tx_flags</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab977225306e7eae7eddf4d9363c6e1f8"></a><!-- doxytag: member="CECSocket::m_bytes_needed" ref="ab977225306e7eae7eddf4d9363c6e1f8" args="" -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_bytes_needed</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="add42606c971e91d8fbfeb7c10d8b2ef5"></a><!-- doxytag: member="CECSocket::m_in_header" ref="add42606c971e91d8fbfeb7c10d8b2ef5" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_in_header</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6f9e9602ff66f6f643de61699ca7fbdc"></a><!-- doxytag: member="CECSocket::m_curr_packet_len" ref="a6f9e9602ff66f6f643de61699ca7fbdc" args="" -->
uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_curr_packet_len</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae0359d20b5051c21e5e13bc706a807e9"></a><!-- doxytag: member="CECSocket::m_z" ref="ae0359d20b5051c21e5e13bc706a807e9" args="" -->
z_stream&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_z</b></td></tr>
<tr><td colspan="2"><h2>Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a39706fd77806ec3df8ec15aadb9650c3"></a><!-- doxytag: member="CECSocket::EC_SOCKET_BUFFER_SIZE" ref="a39706fd77806ec3df8ec15aadb9650c3" args="" -->
static const unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><b>EC_SOCKET_BUFFER_SIZE</b> = 2048</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0737ebe75bedbc4d6132d28e2492db70"></a><!-- doxytag: member="CECSocket::EC_HEADER_SIZE" ref="a0737ebe75bedbc4d6132d28e2492db70" args="" -->
static const unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><b>EC_HEADER_SIZE</b> = 8</td></tr>
<tr><td colspan="2"><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac1ce8864850b74cf6245bd1add44c9cf"></a><!-- doxytag: member="CECSocket::CECPacket" ref="ac1ce8864850b74cf6245bd1add44c9cf" args="" -->
class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCECSocket.html#ac1ce8864850b74cf6245bd1add44c9cf">CECPacket</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aad1a9f7fb264c8cd57983d6425cd02fe"></a><!-- doxytag: member="CECSocket::CECTag" ref="aad1a9f7fb264c8cd57983d6425cd02fe" args="" -->
class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCECSocket.html#aad1a9f7fb264c8cd57983d6425cd02fe">CECTag</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Socket handler for External Communications (EC). </p>
<p><a class="el" href="classCECSocket.html" title="Socket handler for External Communications (EC).">CECSocket</a> takes care of the transmission of EC packets </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a24987c711df4f3170357a6beaf6fedc9"></a><!-- doxytag: member="CECSocket::GetLastErrorMsg" ref="a24987c711df4f3170357a6beaf6fedc9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string CECSocket::GetLastErrorMsg </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get a message describing the error. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>error</em>&nbsp;</td><td>The code of the error for which a message should be returned. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The text descibing the error. </dd></dl>

<p>Referenced by <a class="el" href="ECSocket_8cpp_source.html#l00361">OnError()</a>.</p>

</div>
</div>
<a class="anchor" id="a594e4c41c8dcaf3c5469e9a01ffd86b8"></a><!-- doxytag: member="CECSocket::OnConnect" ref="a594e4c41c8dcaf3c5469e9a01ffd86b8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CECSocket::OnConnect </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Event handler for connection events. </p>
<p>This function is called when a connection attempt succeeds. </p>

<p>Reimplemented in <a class="el" href="classCRemoteConnect.html#acdd5946ff6651fae851be49e9d2d7dc5">CRemoteConnect</a>.</p>

</div>
</div>
<a class="anchor" id="aaebdc212a0c6d7f32d4fd53fe930e6fa"></a><!-- doxytag: member="CECSocket::OnError" ref="aaebdc212a0c6d7f32d4fd53fe930e6fa" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CECSocket::OnError </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Error handler. </p>
<p>This function is called when an error occurs. Use GetLastError() and GetErrorMsg() to find out the nature of the error.</p>
<p>The default error handler prints out an error message in debug builds, and destroys the socket. </p>

<p>References <a class="el" href="ECSocket_8cpp_source.html#l00321">GetLastErrorMsg()</a>.</p>

<p>Referenced by <a class="el" href="ECSocket_8cpp_source.html#l00299">SendRecvPacket()</a>.</p>

</div>
</div>
<a class="anchor" id="aa1245e93fc1a8f8ad6f1ac0e50c51d97"></a><!-- doxytag: member="CECSocket::OnLost" ref="aa1245e93fc1a8f8ad6f1ac0e50c51d97" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CECSocket::OnLost </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Socket lost event handler. </p>
<p>This function is called when the socket is lost (either because of a network failure or because the remote end closed the socket gracefully).</p>
<p>The default handler destroys the socket. </p>

<p>Reimplemented in <a class="el" href="classCECServerSocket.html#a29081455ee9896fc197896d8601452b1">CECServerSocket</a>, and <a class="el" href="classCRemoteConnect.html#a1bc6de5e0960a3069a01568f7f5f3add">CRemoteConnect</a>.</p>

</div>
</div>
<a class="anchor" id="a4026f260f7839bf95a02f1c178bf2d52"></a><!-- doxytag: member="CECSocket::OnPacketReceived" ref="a4026f260f7839bf95a02f1c178bf2d52" args="(const CECPacket *packet, uint32 trueSize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classCECPacket.html">CECPacket</a> * CECSocket::OnPacketReceived </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCECPacket.html">CECPacket</a> *&nbsp;</td>
          <td class="paramname"> <em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&nbsp;</td>
          <td class="paramname"> <em>trueSize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Event handler function called when a new packet is received. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packet</em>&nbsp;</td><td>The packet that has been received. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The reply packet or <code>NULL</code> if no reply needed.</dd></dl>
<p>In this function the application should process the received packet, and create a reply if necessary. The reply must be allocated on the heap with <code>new</code>. If no reply is necessary, the return value of the function should be <code>NULL</code>. The library will <code>delete</code> both packets.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This function won't be called for packets received via the <a class="el" href="classCECSocket.html#aaee01cc0fb0b37fb44ddf8b363cfdbd5" title="Sends an EC packet and waits for a reply.">SendRecvPacket()</a> function. </dd></dl>

<p>Reimplemented in <a class="el" href="classCECServerSocket.html#a7e8393ee2814dae9b6eeedcf20c5be30">CECServerSocket</a>, and <a class="el" href="classCRemoteConnect.html#af2e8318ab1de92d3f8d1b5c85bd99a2c">CRemoteConnect</a>.</p>

</div>
</div>
<a class="anchor" id="ad399e6f57eebdf868b20612d6dab14a1"></a><!-- doxytag: member="CECSocket::SendPacket" ref="ad399e6f57eebdf868b20612d6dab14a1" args="(const CECPacket *packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CECSocket::SendPacket </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCECPacket.html">CECPacket</a> *&nbsp;</td>
          <td class="paramname"> <em>packet</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends an EC packet and returns immediately. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>packet</em>&nbsp;</td><td>The <a class="el" href="classCECPacket.html" title="High level EC packet handler class.">CECPacket</a> packet to be sent.</td></tr>
  </table>
  </dd>
</dl>
<p>This is an asynchronous call, the function returns immediately and the packet is sent on idle time.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>It's the caller's responsibilty to <code>delete</code> the <em>packet</em>. </dd></dl>

<p>Reimplemented in <a class="el" href="classCRemoteConnect.html#aea090f8a0b2dd3475f8bb8795af0f517">CRemoteConnect</a>.</p>

<p>Referenced by <a class="el" href="ECSocket_8cpp_source.html#l00299">SendRecvPacket()</a>.</p>

</div>
</div>
<a class="anchor" id="aaee01cc0fb0b37fb44ddf8b363cfdbd5"></a><!-- doxytag: member="CECSocket::SendRecvPacket" ref="aaee01cc0fb0b37fb44ddf8b363cfdbd5" args="(const CECPacket *request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classCECPacket.html">CECPacket</a> * CECSocket::SendRecvPacket </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCECPacket.html">CECPacket</a> *&nbsp;</td>
          <td class="paramname"> <em>request</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends an EC packet and waits for a reply. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>request</em>&nbsp;</td><td>The <a class="el" href="classCECPacket.html" title="High level EC packet handler class.">CECPacket</a> packet to be sent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The reply packet for the request.</dd></dl>
<p>Unlike <a class="el" href="classCECSocket.html#ad399e6f57eebdf868b20612d6dab14a1" title="Sends an EC packet and returns immediately.">SendPacket()</a>, this call is synchronous and blocking. The packet is sent immediately (or at least as soon as possible), and the function does not return until a reply is received, or a timeout encountered.</p>
<p>The returned packet will be allocated on the heap with <code>new</code>, or <code>NULL</code> is returned in case of an error (timeout).</p>
<dl class="note"><dt><b>Note:</b></dt><dd>It's the caller's responsibilty to <code>delete</code> both request and reply.</dd>
<dd>
<a class="el" href="classCECSocket.html#a4026f260f7839bf95a02f1c178bf2d52" title="Event handler function called when a new packet is received.">OnPacketReceived()</a> won't be called for packets received via this function. </dd></dl>

<p>References <a class="el" href="ECSocket_8cpp_source.html#l00361">OnError()</a>, and <a class="el" href="ECSocket_8cpp_source.html#l00292">SendPacket()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/libs/ec/cpp/<a class="el" href="ECSocket_8h_source.html">ECSocket.h</a></li>
<li>src/libs/ec/cpp/ECSocket.cpp</li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 4 Dec 2014 for aMule by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
