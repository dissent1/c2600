<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>aMule: CFile Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>CFile Class Reference</h1><!-- doxytag: class="CFile" --><!-- doxytag: inherits="CFileDataIO" -->
<p>This class is a modified version of the wxFile class.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="CFile_8h_source.html">CFile.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CFile:</div>
<div class="dynsection">
 <div class="center">
  <img src="classCFile.gif" usemap="#CFile_map" alt=""/>
  <map id="CFile_map" name="CFile_map">
<area href="classCFileDataIO.html" alt="CFileDataIO" shape="rect" coords="0,0,81,24"/>
</map>
 </div>
</div>

<p><a href="classCFile-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <b>fd_invalid</b> =  -1, 
<b>fd_stdin</b>, 
<b>fd_stdout</b>, 
<b>fd_stderr</b>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCFile.html#ae3d32843d7aec03b3ff5f73c57254010">OpenMode</a> { <br/>
&nbsp;&nbsp;<b>read</b>, 
<b>write</b>, 
<b>read_write</b>, 
<b>write_append</b>, 
<br/>
&nbsp;&nbsp;<b>write_excl</b>, 
<b>write_safe</b>
<br/>
 }</td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a82635098055a4778bdc7ec056066c19f"></a><!-- doxytag: member="CFile::CFile" ref="a82635098055a4778bdc7ec056066c19f" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCFile.html#a82635098055a4778bdc7ec056066c19f">CFile</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCFile.html#af7a54ddfc5c9b1b79abca6ef16c95958">CFile</a> (const <a class="el" href="classCPath.html">CPath</a> &amp;path, <a class="el" href="classCFile.html#ae3d32843d7aec03b3ff5f73c57254010">OpenMode</a> mode=read)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5227a2c93143e86a68c858c7c41db167"></a><!-- doxytag: member="CFile::CFile" ref="a5227a2c93143e86a68c858c7c41db167" args="(const wxString &amp;path, OpenMode mode=read)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>CFile</b> (const wxString &amp;path, <a class="el" href="classCFile.html#ae3d32843d7aec03b3ff5f73c57254010">OpenMode</a> mode=read)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a146d61b38c752741357820a5f7e3f3b5"></a><!-- doxytag: member="CFile::~CFile" ref="a146d61b38c752741357820a5f7e3f3b5" args="()" -->
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCFile.html#a146d61b38c752741357820a5f7e3f3b5">~CFile</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCFile.html#a276f41388fbdd393dc446b02e1ba8ad0">Open</a> (const <a class="el" href="classCPath.html">CPath</a> &amp;path, <a class="el" href="classCFile.html#ae3d32843d7aec03b3ff5f73c57254010">OpenMode</a> mode=read, int accessMode=wxS_DEFAULT)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a15e5923fde1a526eecd811625ce0f44f"></a><!-- doxytag: member="CFile::Open" ref="a15e5923fde1a526eecd811625ce0f44f" args="(const wxString &amp;path, OpenMode mode=read, int accessMode=wxS_DEFAULT)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>Open</b> (const wxString &amp;path, <a class="el" href="classCFile.html#ae3d32843d7aec03b3ff5f73c57254010">OpenMode</a> mode=read, int accessMode=wxS_DEFAULT)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCFile.html#ae13ccb26700c65c34ef9386c7eb89a6f">Reopen</a> (<a class="el" href="classCFile.html#ae3d32843d7aec03b3ff5f73c57254010">OpenMode</a> mode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCFile.html#a61c4b929b8667868398ccf5a25f258e9">Create</a> (const <a class="el" href="classCPath.html">CPath</a> &amp;path, bool overwrite=false, int accessMode=wxS_DEFAULT)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afea12fe8db3e2eca5227efa099ebea3c"></a><!-- doxytag: member="CFile::Create" ref="afea12fe8db3e2eca5227efa099ebea3c" args="(const wxString &amp;path, bool overwrite=false, int accessMode=wxS_DEFAULT)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>Create</b> (const wxString &amp;path, bool overwrite=false, int accessMode=wxS_DEFAULT)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCFile.html#a5c87e3d354ac1d508f000390e7de2881">Close</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCFile.html#a651bb483670fa89cdf595f39b38d778f">fd</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCFile.html#aba81ae13c448d201f301797fcd00aebb">Flush</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual uint64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCFile.html#ae0891cc30b0d0b7898201dbb02a9e5a0">GetLength</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a861ecc760871c3de8611097f91f6b87f"></a><!-- doxytag: member="CFile::SetLength" ref="a861ecc760871c3de8611097f91f6b87f" args="(uint64 newLength)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCFile.html#a861ecc760871c3de8611097f91f6b87f">SetLength</a> (uint64 newLength)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual uint64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCFile.html#a3f7daa1de15d532cc9bb5f80dd217183">GetPosition</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual uint64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCFile.html#aacaa1a13154a471cb8a68eeaa758ac6a">GetAvailable</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0e8d581cc64bc9078f0ebce22ae7ad43"></a><!-- doxytag: member="CFile::GetFilePath" ref="a0e8d581cc64bc9078f0ebce22ae7ad43" args="() const " -->
const <a class="el" href="classCPath.html">CPath</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCFile.html#a0e8d581cc64bc9078f0ebce22ae7ad43">GetFilePath</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afa5ea8f22762fd9c5a45f17c81dcce22"></a><!-- doxytag: member="CFile::IsOpened" ref="afa5ea8f22762fd9c5a45f17c81dcce22" args="() const " -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCFile.html#afa5ea8f22762fd9c5a45f17c81dcce22">IsOpened</a> () const </td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual sint64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCFile.html#a196bbaa7720510c1b63c966666b7421f">doRead</a> (void *buffer, size_t count) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual sint64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCFile.html#a1917cf85e46c637ee94ca5e2c72d1888">doWrite</a> (const void *buffer, size_t count)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual sint64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCFile.html#a882df4b2f143b5aa7bfac2504ddadf13">doSeek</a> (sint64 offset) const </td></tr>
<tr><td colspan="2"><h2>Private Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrpd41d8cd98f00b204e9800998ecf8427e"></a> </p>
<br/><br/></div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0809c2a0b6eae5d4a67b19fa1a53f826"></a><!-- doxytag: member="CFile::CFile" ref="a0809c2a0b6eae5d4a67b19fa1a53f826" args="(const CFile &amp;)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCFile.html#a0809c2a0b6eae5d4a67b19fa1a53f826">CFile</a> (const <a class="el" href="classCFile.html">CFile</a> &amp;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aee2bd30f1e37c7686aa81b6245a1310a"></a><!-- doxytag: member="CFile::operator=" ref="aee2bd30f1e37c7686aa81b6245a1310a" args="(const CFile &amp;)" -->
<a class="el" href="classCFile.html">CFile</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classCFile.html">CFile</a> &amp;)</td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afa049d32e3f2dbff218b6e343f3d6eff"></a><!-- doxytag: member="CFile::m_fd" ref="afa049d32e3f2dbff218b6e343f3d6eff" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCFile.html#afa049d32e3f2dbff218b6e343f3d6eff">m_fd</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7f2229ea21f6e953e00534632c875eb7"></a><!-- doxytag: member="CFile::m_filePath" ref="a7f2229ea21f6e953e00534632c875eb7" args="" -->
<a class="el" href="classCPath.html">CPath</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCFile.html#a7f2229ea21f6e953e00534632c875eb7">m_filePath</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a72991c6aa63a792e3f355dbc4b25f50b"></a><!-- doxytag: member="CFile::m_safeWrite" ref="a72991c6aa63a792e3f355dbc4b25f50b" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCFile.html#a72991c6aa63a792e3f355dbc4b25f50b">m_safeWrite</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This class is a modified version of the wxFile class. </p>
<p>In addition to implementing the <a class="el" href="classCFileDataIO.html" title="This class provides a interface for safe file IO.">CFileDataIO</a> interface, it offers improved support for UTF8 filenames and 64b file-IO on both windows and unix-like systems.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>wxFile </dd></dl>
<hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="ae3d32843d7aec03b3ff5f73c57254010"></a><!-- doxytag: member="CFile::OpenMode" ref="ae3d32843d7aec03b3ff5f73c57254010" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classCFile.html#ae3d32843d7aec03b3ff5f73c57254010">CFile::OpenMode</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="see"><dt><b>See also:</b></dt><dd>wxFile::OpenMode </dd></dl>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af7a54ddfc5c9b1b79abca6ef16c95958"></a><!-- doxytag: member="CFile::CFile" ref="af7a54ddfc5c9b1b79abca6ef16c95958" args="(const CPath &amp;path, OpenMode mode=read)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CFile::CFile </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCPath.html">CPath</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCFile.html#ae3d32843d7aec03b3ff5f73c57254010">OpenMode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em> = <code>read</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor, calls Open on the specified file. </p>
<p>To check if the file was successfully opened, a call to <a class="el" href="classCFile.html#afa5ea8f22762fd9c5a45f17c81dcce22" title="Returns true if the file is opened, false otherwise.">IsOpened()</a> is required. </p>

<p>References <a class="el" href="CFile_8cpp_source.html#l00222">Open()</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a5c87e3d354ac1d508f000390e7de2881"></a><!-- doxytag: member="CFile::Close" ref="a5c87e3d354ac1d508f000390e7de2881" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CFile::Close </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Closes the file. </p>
<p>Note that calling Close on an closed file is an illegal operation. </p>

<p>References <a class="el" href="CFile_8cpp_source.html#l00187">IsOpened()</a>, <a class="el" href="CFile_8h_source.html#l00201">m_fd</a>, <a class="el" href="CFile_8h_source.html#l00204">m_filePath</a>, <a class="el" href="CFile_8h_source.html#l00207">m_safeWrite</a>, <a class="el" href="Path_8cpp_source.html#l00530">CPath::RemoveExt()</a>, and <a class="el" href="Path_8cpp_source.html#l00592">CPath::RenameFile()</a>.</p>

<p>Referenced by <a class="el" href="FileAutoClose_8cpp_source.html#l00064">CFileAutoClose::Close()</a>, <a class="el" href="ThreadTasks_8cpp_source.html#l00529">CAllocateFileTask::Entry()</a>, <a class="el" href="ThreadTasks_8cpp_source.html#l00265">CAICHSyncTask::Entry()</a>, <a class="el" href="CFile_8cpp_source.html#l00222">Open()</a>, <a class="el" href="FileAutoClose_8cpp_source.html#l00139">CFileAutoClose::Release()</a>, and <a class="el" href="CFile_8cpp_source.html#l00169">~CFile()</a>.</p>

</div>
</div>
<a class="anchor" id="a61c4b929b8667868398ccf5a25f258e9"></a><!-- doxytag: member="CFile::Create" ref="a61c4b929b8667868398ccf5a25f258e9" args="(const CPath &amp;path, bool overwrite=false, int accessMode=wxS_DEFAULT)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CFile::Create </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCPath.html">CPath</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>overwrite</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>accessMode</em> = <code>wxS_DEFAULT</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calling Create is equivilant of calling open with OpenMode 'write'. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>overwrite</em>&nbsp;</td><td>Specifies if the target file should be overwritten, in case that it already exists.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classCFile.html#a276f41388fbdd393dc446b02e1ba8ad0" title="Opens a file.">CFile::Open</a> </dd></dl>

<p>References <a class="el" href="Path_8cpp_source.html#l00354">CPath::FileExists()</a>, and <a class="el" href="CFile_8cpp_source.html#l00222">Open()</a>.</p>

<p>Referenced by <a class="el" href="FileAutoClose_8cpp_source.html#l00056">CFileAutoClose::Create()</a>.</p>

</div>
</div>
<a class="anchor" id="a196bbaa7720510c1b63c966666b7421f"></a><!-- doxytag: member="CFile::doRead" ref="a196bbaa7720510c1b63c966666b7421f" args="(void *buffer, size_t count) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sint64 CFile::doRead </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classCFileDataIO.html#a675efe875eee7c667e2ff1cf01e2c49f" title="The actual read / write function, as implemented by subclasses.">CFileDataIO::doRead</a> </dd></dl>

<p>Implements <a class="el" href="classCFileDataIO.html#a675efe875eee7c667e2ff1cf01e2c49f">CFileDataIO</a>.</p>

<p>References <a class="el" href="SafeFile_8cpp_source.html#l00066">CFileDataIO::Eof()</a>, <a class="el" href="CFile_8cpp_source.html#l00187">IsOpened()</a>, and <a class="el" href="CFile_8h_source.html#l00201">m_fd</a>.</p>

</div>
</div>
<a class="anchor" id="a882df4b2f143b5aa7bfac2504ddadf13"></a><!-- doxytag: member="CFile::doSeek" ref="a882df4b2f143b5aa7bfac2504ddadf13" args="(sint64 offset) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sint64 CFile::doSeek </td>
          <td>(</td>
          <td class="paramtype">sint64&nbsp;</td>
          <td class="paramname"> <em>offset</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classCFileDataIO.html#a82c6d4df3c99fd2838b4e3ec6d06f8d3" title="The actual seek function, as implemented by subclasses.">CFileDataIO::doSeek</a> </dd></dl>

<p>Implements <a class="el" href="classCFileDataIO.html#a82c6d4df3c99fd2838b4e3ec6d06f8d3">CFileDataIO</a>.</p>

<p>References <a class="el" href="CFile_8cpp_source.html#l00187">IsOpened()</a>, and <a class="el" href="CFile_8h_source.html#l00201">m_fd</a>.</p>

</div>
</div>
<a class="anchor" id="a1917cf85e46c637ee94ca5e2c72d1888"></a><!-- doxytag: member="CFile::doWrite" ref="a1917cf85e46c637ee94ca5e2c72d1888" args="(const void *buffer, size_t count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sint64 CFile::doWrite </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="see"><dt><b>See also:</b></dt><dd>CFileDataIO::doWrite </dd></dl>

<p>Implements <a class="el" href="classCFileDataIO.html">CFileDataIO</a>.</p>

<p>References <a class="el" href="CFile_8cpp_source.html#l00187">IsOpened()</a>, and <a class="el" href="CFile_8h_source.html#l00201">m_fd</a>.</p>

</div>
</div>
<a class="anchor" id="a651bb483670fa89cdf595f39b38d778f"></a><!-- doxytag: member="CFile::fd" ref="a651bb483670fa89cdf595f39b38d778f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CFile::fd </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the file descriptior assosiated with the file. </p>
<p>Note that direct manipulation of the descriptor should be avoided! That's what this class is for. </p>

<p>References <a class="el" href="CFile_8h_source.html#l00201">m_fd</a>.</p>

<p>Referenced by <a class="el" href="ThreadTasks_8cpp_source.html#l00529">CAllocateFileTask::Entry()</a>, and <a class="el" href="FileAutoClose_8cpp_source.html#l00112">CFileAutoClose::fd()</a>.</p>

</div>
</div>
<a class="anchor" id="aba81ae13c448d201f301797fcd00aebb"></a><!-- doxytag: member="CFile::Flush" ref="aba81ae13c448d201f301797fcd00aebb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CFile::Flush </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Flushes data not yet written. </p>
<p>Note that calling Flush on an closed file is an illegal operation. </p>

<p>References <a class="el" href="CFile_8cpp_source.html#l00187">IsOpened()</a>, <a class="el" href="CFile_8h_source.html#l00201">m_fd</a>, and <a class="el" href="CFile_8h_source.html#l00204">m_filePath</a>.</p>

<p>Referenced by <a class="el" href="ThreadTasks_8cpp_source.html#l00333">CAICHSyncTask::ConvertToKnown2ToKnown264()</a>.</p>

</div>
</div>
<a class="anchor" id="aacaa1a13154a471cb8a68eeaa758ac6a"></a><!-- doxytag: member="CFile::GetAvailable" ref="aacaa1a13154a471cb8a68eeaa758ac6a" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64 CFile::GetAvailable </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the current available bytes to read on the file before EOF. </p>

<p>References <a class="el" href="CFile_8cpp_source.html#l00396">GetLength()</a>, and <a class="el" href="CFile_8cpp_source.html#l00383">GetPosition()</a>.</p>

</div>
</div>
<a class="anchor" id="ae0891cc30b0d0b7898201dbb02a9e5a0"></a><!-- doxytag: member="CFile::GetLength" ref="ae0891cc30b0d0b7898201dbb02a9e5a0" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64 CFile::GetLength </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="see"><dt><b>See also:</b></dt><dd>CSafeFileIO::GetLength</dd></dl>
<p>Note that calling GetLength on a closed file is an illegal operation. </p>

<p>Implements <a class="el" href="classCFileDataIO.html#a7f54fcd57c88023b87f7e4535becab0a">CFileDataIO</a>.</p>

<p>References <a class="el" href="CFile_8cpp_source.html#l00187">IsOpened()</a>, and <a class="el" href="CFile_8h_source.html#l00201">m_fd</a>.</p>

<p>Referenced by <a class="el" href="ThreadTasks_8cpp_source.html#l00333">CAICHSyncTask::ConvertToKnown2ToKnown264()</a>, <a class="el" href="ThreadTasks_8cpp_source.html#l00265">CAICHSyncTask::Entry()</a>, <a class="el" href="CFile_8cpp_source.html#l00409">GetAvailable()</a>, <a class="el" href="FileAutoClose_8cpp_source.html#l00071">CFileAutoClose::GetLength()</a>, and <a class="el" href="FileAutoClose_8cpp_source.html#l00139">CFileAutoClose::Release()</a>.</p>

</div>
</div>
<a class="anchor" id="a3f7daa1de15d532cc9bb5f80dd217183"></a><!-- doxytag: member="CFile::GetPosition" ref="a3f7daa1de15d532cc9bb5f80dd217183" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64 CFile::GetPosition </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="see"><dt><b>See also:</b></dt><dd>CSafeFileIO::GetPosition</dd></dl>
<p>Note that calling GetPosition on a closed file is an illegal operation. </p>

<p>Implements <a class="el" href="classCFileDataIO.html#a6b153f389378a4f72ac09c56a6a60230">CFileDataIO</a>.</p>

<p>References <a class="el" href="CFile_8cpp_source.html#l00187">IsOpened()</a>, and <a class="el" href="CFile_8h_source.html#l00201">m_fd</a>.</p>

<p>Referenced by <a class="el" href="ThreadTasks_8cpp_source.html#l00333">CAICHSyncTask::ConvertToKnown2ToKnown264()</a>, <a class="el" href="ThreadTasks_8cpp_source.html#l00265">CAICHSyncTask::Entry()</a>, and <a class="el" href="CFile_8cpp_source.html#l00409">GetAvailable()</a>.</p>

</div>
</div>
<a class="anchor" id="a276f41388fbdd393dc446b02e1ba8ad0"></a><!-- doxytag: member="CFile::Open" ref="a276f41388fbdd393dc446b02e1ba8ad0" args="(const CPath &amp;path, OpenMode mode=read, int accessMode=wxS_DEFAULT)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CFile::Open </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCPath.html">CPath</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCFile.html#ae3d32843d7aec03b3ff5f73c57254010">OpenMode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em> = <code>read</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>accessMode</em> = <code>wxS_DEFAULT</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Opens a file. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>The full or relative path to the file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>The opening mode. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>accessMode</em>&nbsp;</td><td>The permissions in case a new file is created. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if the file was opened, false otherwise.</dd></dl>
<p>Calling Open with the openmodes 'write' or 'write_append' will create the specified file if it does not already exist.</p>
<p>Calling Open with the openmode 'write_safe' will append ".new" to the file name and otherwise work like 'write'. On close it will be renamed to the original name. <a class="el" href="classCFile.html#a5c87e3d354ac1d508f000390e7de2881" title="Closes the file.">Close()</a> has to be called manually - destruct won't rename the file!</p>
<p>If an accessMode is not explicitly specified, the accessmode specified via CPreferences::GetFilePermissions will be used. </p>

<p>References <a class="el" href="Path_8cpp_source.html#l00507">CPath::AppendExt()</a>, <a class="el" href="CFile_8cpp_source.html#l00293">Close()</a>, <a class="el" href="Path_8cpp_source.html#l00354">CPath::FileExists()</a>, <a class="el" href="Path_8cpp_source.html#l00395">CPath::GetRaw()</a>, <a class="el" href="Path_8cpp_source.html#l00347">CPath::IsOk()</a>, <a class="el" href="CFile_8cpp_source.html#l00187">IsOpened()</a>, <a class="el" href="CFile_8h_source.html#l00201">m_fd</a>, <a class="el" href="CFile_8h_source.html#l00204">m_filePath</a>, and <a class="el" href="CFile_8h_source.html#l00207">m_safeWrite</a>.</p>

<p>Referenced by <a class="el" href="CFile_8cpp_source.html#l00155">CFile()</a>, <a class="el" href="ThreadTasks_8cpp_source.html#l00333">CAICHSyncTask::ConvertToKnown2ToKnown264()</a>, <a class="el" href="Preferences_8cpp_source.html#l00924">CPreferences::CPreferences()</a>, <a class="el" href="CFile_8cpp_source.html#l00199">Create()</a>, <a class="el" href="ThreadTasks_8cpp_source.html#l00529">CAllocateFileTask::Entry()</a>, <a class="el" href="ThreadTasks_8cpp_source.html#l00265">CAICHSyncTask::Entry()</a>, <a class="el" href="FileAutoClose_8cpp_source.html#l00046">CFileAutoClose::Open()</a>, and <a class="el" href="CFile_8cpp_source.html#l00285">Reopen()</a>.</p>

</div>
</div>
<a class="anchor" id="ae13ccb26700c65c34ef9386c7eb89a6f"></a><!-- doxytag: member="CFile::Reopen" ref="ae13ccb26700c65c34ef9386c7eb89a6f" args="(OpenMode mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CFile::Reopen </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCFile.html#ae3d32843d7aec03b3ff5f73c57254010">OpenMode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reopens a file which was opened and closed before. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>The opening mode.</td></tr>
  </table>
  </dd>
</dl>
<p>The filename used for last open is used again. No return value - function throws on failure. </p>

<p>References <a class="el" href="CFile_8h_source.html#l00204">m_filePath</a>, and <a class="el" href="CFile_8cpp_source.html#l00222">Open()</a>.</p>

<p>Referenced by <a class="el" href="ThreadTasks_8cpp_source.html#l00265">CAICHSyncTask::Entry()</a>, and <a class="el" href="FileAutoClose_8cpp_source.html#l00126">CFileAutoClose::Reopen()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="CFile_8h_source.html">CFile.h</a></li>
<li>src/CFile.cpp</li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 4 Dec 2014 for aMule by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
