<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>aMule: CQueueObserver&lt; ValueType &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>CQueueObserver&lt; ValueType &gt; Class Template Reference</h1><!-- doxytag: class="CQueueObserver" --><!-- doxytag: inherits="CObserver&lt; CQueueEvent&lt; ValueType &gt; &gt;" -->
<p>This class is an automatically synchronized queue connected with an ObservableQueue.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ObservableQueue_8h_source.html">ObservableQueue.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CQueueObserver&lt; ValueType &gt;:</div>
<div class="dynsection">
 <div class="center">
  <img src="classCQueueObserver.gif" usemap="#CQueueObserver&lt; ValueType &gt;_map" alt=""/>
  <map id="CQueueObserver&lt; ValueType &gt;_map" name="CQueueObserver&lt; ValueType &gt;_map">
<area href="classCObserver.html" alt="CObserver&lt; CQueueEvent&lt; ValueType &gt; &gt;" shape="rect" coords="0,0,263,24"/>
</map>
 </div>
</div>

<p><a href="classCQueueObserver-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a27ebb4bac0dae757c381c0c17907fb8c"></a><!-- doxytag: member="CQueueObserver::EventType" ref="a27ebb4bac0dae757c381c0c17907fb8c" args="" -->
typedef <a class="el" href="classCQueueEvent.html">CQueueEvent</a>&lt; ValueType &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>EventType</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a39cc33d5689deb15fb1f08f3934c3684"></a><!-- doxytag: member="CQueueObserver::ObservableType" ref="a39cc33d5689deb15fb1f08f3934c3684" args="" -->
typedef <a class="el" href="classCObserver.html">CObserver</a>&lt; <a class="el" href="classCQueueEvent.html">EventType</a> &gt;<br class="typebreak"/>
::<a class="el" href="classCObservable.html">ObservableType</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>ObservableType</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae671bd120e3254036c9d8b7948349946"></a><!-- doxytag: member="CQueueObserver::ValueList" ref="ae671bd120e3254036c9d8b7948349946" args="" -->
typedef <a class="el" href="classCQueueEvent.html#a66ded4aa20a3b8792dd78c79e7f7ced1">EventType::ValueList</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>ValueList</b></td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad009b07a84f081d6d8e37f55c1e3f653"></a><!-- doxytag: member="CQueueObserver::CQueueObserver" ref="ad009b07a84f081d6d8e37f55c1e3f653" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCQueueObserver.html#ad009b07a84f081d6d8e37f55c1e3f653">CQueueObserver</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a061d3aa88f8b18bf846c193d57aee303"></a><!-- doxytag: member="CQueueObserver::ReceiveNotification" ref="a061d3aa88f8b18bf846c193d57aee303" args="(const ObservableType *, const EventType &amp;e)" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCQueueObserver.html#a061d3aa88f8b18bf846c193d57aee303">ReceiveNotification</a> (const <a class="el" href="classCObservable.html">ObservableType</a> *, const <a class="el" href="classCQueueEvent.html">EventType</a> &amp;e)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ValueType&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCQueueObserver.html#a16a0e26dabd14056c7e8f28d4c5f5b91">GetNext</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6c77bf338cfad2faf14d992f331e128a"></a><!-- doxytag: member="CQueueObserver::GetRemaining" ref="a6c77bf338cfad2faf14d992f331e128a" args="() const " -->
size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCQueueObserver.html#a6c77bf338cfad2faf14d992f331e128a">GetRemaining</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a09b2f1c5e21cea14f1ea7cf4a636c647"></a><!-- doxytag: member="CQueueObserver::IsActive" ref="a09b2f1c5e21cea14f1ea7cf4a636c647" args="() const " -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCQueueObserver.html#a09b2f1c5e21cea14f1ea7cf4a636c647">IsActive</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a322152ddd10050677eafd751405cf3c0"></a><!-- doxytag: member="CQueueObserver::Reset" ref="a322152ddd10050677eafd751405cf3c0" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCQueueObserver.html#a322152ddd10050677eafd751405cf3c0">Reset</a> ()</td></tr>
<tr><td colspan="2"><h2>Private Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6436327bced25fb2ad6b653d2ba098d5"></a><!-- doxytag: member="CQueueObserver::Queue" ref="a6436327bced25fb2ad6b653d2ba098d5" args="" -->
typedef std::multiset&lt; ValueType &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>Queue</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a88f1c18a7ffb766d5a6c1f8f7d61fffe"></a><!-- doxytag: member="CQueueObserver::QueueIterator" ref="a88f1c18a7ffb766d5a6c1f8f7d61fffe" args="" -->
typedef Queue::iterator&nbsp;</td><td class="memItemRight" valign="bottom"><b>QueueIterator</b></td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a342ff6ab3b680d33883d2f67dfa184a7"></a><!-- doxytag: member="CQueueObserver::m_mutex" ref="a342ff6ab3b680d33883d2f67dfa184a7" args="" -->
wxMutex&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCQueueObserver.html#a342ff6ab3b680d33883d2f67dfa184a7">m_mutex</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0c9e45f97c4927841a579def501a4bac"></a><!-- doxytag: member="CQueueObserver::m_queue" ref="a0c9e45f97c4927841a579def501a4bac" args="" -->
Queue&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCQueueObserver.html#a0c9e45f97c4927841a579def501a4bac">m_queue</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab014c2f8cc464015397a8ae7d329786e"></a><!-- doxytag: member="CQueueObserver::m_owner" ref="ab014c2f8cc464015397a8ae7d329786e" args="" -->
const <a class="el" href="classCObservable.html">ObservableType</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCQueueObserver.html#ab014c2f8cc464015397a8ae7d329786e">m_owner</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;typename ValueType&gt;<br/>
 class CQueueObserver&lt; ValueType &gt;</h3>

<p>This class is an automatically synchronized queue connected with an ObservableQueue. </p>
<p>Note that this observer can only be assigned to ONE observable at a time!</p>
<p>This class implements a queue (out-order not specified) that allows an ObservableQueue object to be object to be used as a queue without making by another object in a safe manner. Changes to the contents of the original queue are propagated to this queue, such that it will never contain values not found in the original queue and such that it will add new values added to the original queue.</p>
<p>This allows the contents to be accessed safely, when for instance it is needed to iterate over the contents over a period of time, where one cannot be certain of the current state of the actual contents of the original lists.</p>
<p>This class supersedes such broken solutions such as remembering the last used position in the original list, since no changes made to the original list will result in items being skipped or treated twice*.</p>
<p>* With the exception of the same item being removed and then re-added, in which case the <a class="el" href="classCQueueObserver.html" title="This class is an automatically synchronized queue connected with an ObservableQueue...">CQueueObserver</a> class will consider it a new item. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a16a0e26dabd14056c7e8f28d4c5f5b91"></a><!-- doxytag: member="CQueueObserver::GetNext" ref="a16a0e26dabd14056c7e8f28d4c5f5b91" args="()" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ValueType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">ValueType <a class="el" href="classCQueueObserver.html">CQueueObserver</a>&lt; ValueType &gt;::GetNext </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the next element from the queue. </p>
<p>Note: Objects will not be returned in the same order as they were found in the original observable. Also, note that calling <a class="el" href="classCQueueObserver.html#a16a0e26dabd14056c7e8f28d4c5f5b91" title="Returns the next element from the queue.">GetNext()</a> on an empty queue should only be done if the default contructed value does not match a valid object and can be used to check for End of Queue. </p>

<p>References <a class="el" href="ObservableQueue_8h_source.html#l00249">CQueueObserver&lt; ValueType &gt;::m_mutex</a>, and <a class="el" href="ObservableQueue_8h_source.html#l00254">CQueueObserver&lt; ValueType &gt;::m_queue</a>.</p>

<p>Referenced by <a class="el" href="SearchList_8cpp_source.html#l00409">CSearchList::OnGlobalSearchTimer()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="ObservableQueue_8h_source.html">ObservableQueue.h</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 4 Dec 2014 for aMule by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
