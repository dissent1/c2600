<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>aMule: CRangeMap&lt; VALUE, KEYTYPE &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>CRangeMap&lt; VALUE, KEYTYPE &gt; Class Template Reference</h1><!-- doxytag: class="CRangeMap" -->
<p>This class represents a map of non-overlapping ranges.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="RangeMap_8h_source.html">RangeMap.h</a>&gt;</code></p>

<p><a href="classCRangeMap-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap_1_1iterator__base.html">iterator_base</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This class provides a wrapper around the raw iterators used by <a class="el" href="classCRangeMap.html" title="This class represents a map of non-overlapping ranges.">CRangeMap</a>.  <a href="classCRangeMap_1_1iterator__base.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1f3fae501be50d7aee7794acd0c0a9e7"></a><!-- doxytag: member="CRangeMap::iterator" ref="a1f3fae501be50d7aee7794acd0c0a9e7" args="" -->
typedef <a class="el" href="classCRangeMap_1_1iterator__base.html">iterator_base</a><br class="typebreak"/>
&lt; <a class="el" href="classCRangeMap.html#aed3f96ed03dc0de758357921048026e8">RangeIterator</a>, ValueRef, <br class="typebreak"/>
ValuePtr &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>iterator</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad873a69c0949e8bf9b71eeec859f0577"></a><!-- doxytag: member="CRangeMap::const_iterator" ref="ad873a69c0949e8bf9b71eeec859f0577" args="" -->
typedef <a class="el" href="classCRangeMap_1_1iterator__base.html">iterator_base</a><br class="typebreak"/>
&lt; ConstRangeIterator, <br class="typebreak"/>
ConstValueRef, ConstValuePtr &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>const_iterator</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa63be8b20deb0792b0a52b10cc92fa8b"></a><!-- doxytag: member="CRangeMap::size_type" ref="aa63be8b20deb0792b0a52b10cc92fa8b" args="" -->
typedef RangeMap::size_type&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap.html#aa63be8b20deb0792b0a52b10cc92fa8b">size_type</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac88bedc48a633b427f2bc867ac422f6b"></a><!-- doxytag: member="CRangeMap::value_type" ref="ac88bedc48a633b427f2bc867ac422f6b" args="" -->
typedef VALUE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap.html#ac88bedc48a633b427f2bc867ac422f6b">value_type</a></td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa98fcee863e6a6f94f2120ecf0665c24"></a><!-- doxytag: member="CRangeMap::CRangeMap" ref="aa98fcee863e6a6f94f2120ecf0665c24" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap.html#aa98fcee863e6a6f94f2120ecf0665c24">CRangeMap</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abee3830b9f996a20039ed71c4fa85848"></a><!-- doxytag: member="CRangeMap::CRangeMap" ref="abee3830b9f996a20039ed71c4fa85848" args="(const CRangeMap&lt; VALUE, KEYTYPE &gt; &amp;other)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap.html#abee3830b9f996a20039ed71c4fa85848">CRangeMap</a> (const <a class="el" href="classCRangeMap.html">CRangeMap</a>&lt; VALUE, KEYTYPE &gt; &amp;other)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a67282499ecf8f578a8a6fd421ecf2314"></a><!-- doxytag: member="CRangeMap::operator=" ref="a67282499ecf8f578a8a6fd421ecf2314" args="(const CRangeMap&lt; VALUE, KEYTYPE &gt; &amp;other)" -->
<a class="el" href="classCRangeMap.html">CRangeMap</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap.html#a67282499ecf8f578a8a6fd421ecf2314">operator=</a> (const <a class="el" href="classCRangeMap.html">CRangeMap</a>&lt; VALUE, KEYTYPE &gt; &amp;other)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a15627ad0cb5bdde31e3b50ae10897cec"></a><!-- doxytag: member="CRangeMap::swap" ref="a15627ad0cb5bdde31e3b50ae10897cec" args="(CRangeMap&lt; VALUE, KEYTYPE &gt; &amp;other)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap.html#a15627ad0cb5bdde31e3b50ae10897cec">swap</a> (<a class="el" href="classCRangeMap.html">CRangeMap</a>&lt; VALUE, KEYTYPE &gt; &amp;other)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap.html#a2fa7ca9981cf0dfdadb3974f4feb6a8a">operator==</a> (const <a class="el" href="classCRangeMap.html">CRangeMap</a>&lt; VALUE, KEYTYPE &gt; &amp;other) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6b154c87bf3fe484691d98ff36d05550"></a><!-- doxytag: member="CRangeMap::begin" ref="a6b154c87bf3fe484691d98ff36d05550" args="()" -->
<a class="el" href="classCRangeMap_1_1iterator__base.html">iterator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap.html#a6b154c87bf3fe484691d98ff36d05550">begin</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a992865fc1f8966d7eb8fcff7fa59a6da"></a><!-- doxytag: member="CRangeMap::end" ref="a992865fc1f8966d7eb8fcff7fa59a6da" args="()" -->
<a class="el" href="classCRangeMap_1_1iterator__base.html">iterator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap.html#a992865fc1f8966d7eb8fcff7fa59a6da">end</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e08fd3f4173e36761f252009ee9dab8"></a><!-- doxytag: member="CRangeMap::begin" ref="a1e08fd3f4173e36761f252009ee9dab8" args="() const " -->
<a class="el" href="classCRangeMap_1_1iterator__base.html">const_iterator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap.html#a1e08fd3f4173e36761f252009ee9dab8">begin</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9a475ae293840ec371c2b245308d2b23"></a><!-- doxytag: member="CRangeMap::end" ref="a9a475ae293840ec371c2b245308d2b23" args="() const " -->
<a class="el" href="classCRangeMap_1_1iterator__base.html">const_iterator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap.html#a9a475ae293840ec371c2b245308d2b23">end</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCRangeMap_1_1iterator__base.html">iterator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap.html#aa5416cfd3931b88e0ba9862a60316151">erase</a> (<a class="el" href="classCRangeMap_1_1iterator__base.html">iterator</a> pos)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a83439238521b9ec160bd106f3d227f8b"></a><!-- doxytag: member="CRangeMap::size" ref="a83439238521b9ec160bd106f3d227f8b" args="() const " -->
<a class="el" href="classCRangeMap.html#aa63be8b20deb0792b0a52b10cc92fa8b">size_type</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap.html#a83439238521b9ec160bd106f3d227f8b">size</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7b9fb523a8c4121ca4d57cb8b62215cc"></a><!-- doxytag: member="CRangeMap::empty" ref="a7b9fb523a8c4121ca4d57cb8b62215cc" args="() const " -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap.html#a7b9fb523a8c4121ca4d57cb8b62215cc">empty</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7eb73fbedc5ad9bcc017b4789a349027"></a><!-- doxytag: member="CRangeMap::clear" ref="a7eb73fbedc5ad9bcc017b4789a349027" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap.html#a7eb73fbedc5ad9bcc017b4789a349027">clear</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCRangeMap_1_1iterator__base.html">iterator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap.html#a80f76ff31d3d7d654f8af000e6a969ef">find_range</a> (KEYTYPE key)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3081dc97bf7b943ee5eb04f4809ddc18"></a><!-- doxytag: member="CRangeMap::erase_range" ref="a3081dc97bf7b943ee5eb04f4809ddc18" args="(KEYTYPE startPos, KEYTYPE endPos)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>erase_range</b> (KEYTYPE startPos, KEYTYPE endPos)</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrpd41d8cd98f00b204e9800998ecf8427e"></a> </p>
<br/><br/></div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCRangeMap_1_1iterator__base.html">iterator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap.html#a6f80ffed59f822dc0666c53ea4f2f502">insert</a> (KEYTYPE startPos, KEYTYPE endPos)</td></tr>
<tr><td class="memTemplParams" colspan="2"><a class="anchor" id="a05e02b022ecc91459090714034c74132"></a><!-- doxytag: member="CRangeMap::insert" ref="a05e02b022ecc91459090714034c74132" args="(KEYTYPE startPos, KEYTYPE endPos, const TYPE &amp;value)" -->
template&lt;typename TYPE &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classCRangeMap_1_1iterator__base.html">iterator</a>&nbsp;</td><td class="memTemplItemRight" valign="bottom"><b>insert</b> (KEYTYPE startPos, KEYTYPE endPos, const TYPE &amp;value)</td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCRangeMap_1_1iterator__base.html">iterator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap.html#ab354a828292694fe0a5edb176635425b">do_insert</a> (KEYTYPE start, <a class="el" href="structCRangeMapHelper.html">HELPER</a> entry, bool merge=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCRangeMap.html#aed3f96ed03dc0de758357921048026e8">RangeIterator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap.html#a9f87c3502c420aa041a1500fd2b9e275">get_insert_it</a> (KEYTYPE start)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade03a7d3a1b0f07c802de62fa44af442"></a><!-- doxytag: member="CRangeMap::resize" ref="ade03a7d3a1b0f07c802de62fa44af442" args="(KEYTYPE startPos, KEYTYPE endPos, RangeIterator it)" -->
<a class="el" href="classCRangeMap.html#aed3f96ed03dc0de758357921048026e8">RangeIterator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap.html#ade03a7d3a1b0f07c802de62fa44af442">resize</a> (KEYTYPE startPos, KEYTYPE endPos, <a class="el" href="classCRangeMap.html#aed3f96ed03dc0de758357921048026e8">RangeIterator</a> it)</td></tr>
<tr><td colspan="2"><h2>Private Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adb63ac1de47f750c398db05f8bb6b675"></a><!-- doxytag: member="CRangeMap::HELPER" ref="adb63ac1de47f750c398db05f8bb6b675" args="" -->
typedef <a class="el" href="structCRangeMapHelper.html">CRangeMapHelper</a>&lt; VALUE, <br class="typebreak"/>
KEYTYPE &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>HELPER</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab3e36f70b7115de0ba6391fb0b5f86f9"></a><!-- doxytag: member="CRangeMap::RangeMap" ref="ab3e36f70b7115de0ba6391fb0b5f86f9" args="" -->
typedef std::map&lt; KEYTYPE, <a class="el" href="structCRangeMapHelper.html">HELPER</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap.html#ab3e36f70b7115de0ba6391fb0b5f86f9">RangeMap</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa4ed83b8bc577e8309bc28a0afb82238"></a><!-- doxytag: member="CRangeMap::RangePair" ref="aa4ed83b8bc577e8309bc28a0afb82238" args="" -->
typedef std::pair&lt; KEYTYPE, <br class="typebreak"/>
<a class="el" href="structCRangeMapHelper.html">HELPER</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap.html#aa4ed83b8bc577e8309bc28a0afb82238">RangePair</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aed3f96ed03dc0de758357921048026e8"></a><!-- doxytag: member="CRangeMap::RangeIterator" ref="aed3f96ed03dc0de758357921048026e8" args="" -->
typedef RangeMap::iterator&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap.html#aed3f96ed03dc0de758357921048026e8">RangeIterator</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a23dc7b3dde3ac7643f336ec53a85962d"></a><!-- doxytag: member="CRangeMap::ConstRangeIterator" ref="a23dc7b3dde3ac7643f336ec53a85962d" args="" -->
typedef RangeMap::const_iterator&nbsp;</td><td class="memItemRight" valign="bottom"><b>ConstRangeIterator</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab0ae7d54c4ca9be843602784d2443cc6"></a><!-- doxytag: member="CRangeMap::ValueRef" ref="ab0ae7d54c4ca9be843602784d2443cc6" args="" -->
typedef <a class="el" href="structCRangeMapHelper.html#a1a543a59727c666e87fbca2b92d4eae9">HELPER::ValueRef</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>ValueRef</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a353bbd91a031dc41d8247a3061290b67"></a><!-- doxytag: member="CRangeMap::ValuePtr" ref="a353bbd91a031dc41d8247a3061290b67" args="" -->
typedef <a class="el" href="structCRangeMapHelper.html#aa0da4a2f2897166e47997666abf31b1e">HELPER::ValuePtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>ValuePtr</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acad14c3463f6b0260573bd411a34c8f7"></a><!-- doxytag: member="CRangeMap::ConstValueRef" ref="acad14c3463f6b0260573bd411a34c8f7" args="" -->
typedef <a class="el" href="structCRangeMapHelper.html#aaa0d59a60cc84ef29cb942bbf8968bd9">HELPER::ConstValueRef</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>ConstValueRef</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a142022b14053eb9b4bf9801e4a74ae05"></a><!-- doxytag: member="CRangeMap::ConstValuePtr" ref="a142022b14053eb9b4bf9801e4a74ae05" args="" -->
typedef <a class="el" href="structCRangeMapHelper.html#a8c098ac59e6759d544dedc6af51e2bca">HELPER::ConstValuePtr</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>ConstValuePtr</b></td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9fc72f65957fd1f6ae68ffa9b8075ff0"></a><!-- doxytag: member="CRangeMap::m_ranges" ref="a9fc72f65957fd1f6ae68ffa9b8075ff0" args="" -->
<a class="el" href="classCRangeMap.html#ab3e36f70b7115de0ba6391fb0b5f86f9">RangeMap</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRangeMap.html#a9fc72f65957fd1f6ae68ffa9b8075ff0">m_ranges</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;typename VALUE, typename KEYTYPE = uint64&gt;<br/>
 class CRangeMap&lt; VALUE, KEYTYPE &gt;</h3>

<p>This class represents a map of non-overlapping ranges. </p>
<p>Each range has a user-specified value associated. The map supports quick lookup of which range covers a particular key-value, and will merge or split existing ranges when new ranges are added.</p>
<p>The decision on whenever to split/resize a range or to merge the two ranges involved is based on equality of the user-specified value, using the equality operator. Thus if two ranges with the same user-value are placed adjacent to each other or partially overlapping each other, then they will be merged into a single range. If the user-values of the two ranges are different, then the old range will be either resized or split, based on the position of the new range.</p>
<p>In cases where ranges are split into two parts, copies will be made of the user-specified value, such that each new part contains the same user-value.</p>
<p>It is currently not possible to manipulate existing ranges by hand, other than by erasing and then re-inserting them.</p>
<p>A specialization of this class exists (typedef'd as CRangeSet), which does not assosiate a value with each range.</p>
<p>NOTE: KEYTYPE is assumed to be an unsigned integer type! </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ab354a828292694fe0a5edb176635425b"></a><!-- doxytag: member="CRangeMap::do_insert" ref="ab354a828292694fe0a5edb176635425b" args="(KEYTYPE start, HELPER entry, bool merge=true)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename VALUE, typename KEYTYPE = uint64&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCRangeMap_1_1iterator__base.html">iterator</a> <a class="el" href="classCRangeMap.html">CRangeMap</a>&lt; VALUE, KEYTYPE &gt;::do_insert </td>
          <td>(</td>
          <td class="paramtype">KEYTYPE&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCRangeMapHelper.html">HELPER</a>&nbsp;</td>
          <td class="paramname"> <em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>merge</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Inserts the specified range. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>start</em>&nbsp;</td><td>The starting position of the range. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>entry</em>&nbsp;</td><td>A helper-struct, containing the end position and possibly user-data. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>merge</em>&nbsp;</td><td>Specifies if ranges should be merged when possible. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An iterator pointing to the range covering at least the specified range. </dd></dl>

<p>Referenced by <a class="el" href="RangeMap_8h_source.html#l00417">CRangeMap&lt; rangeObject, uint32 &gt;::insert()</a>.</p>

</div>
</div>
<a class="anchor" id="aa5416cfd3931b88e0ba9862a60316151"></a><!-- doxytag: member="CRangeMap::erase" ref="aa5416cfd3931b88e0ba9862a60316151" args="(iterator pos)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename VALUE, typename KEYTYPE = uint64&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCRangeMap_1_1iterator__base.html">iterator</a> <a class="el" href="classCRangeMap.html">CRangeMap</a>&lt; VALUE, KEYTYPE &gt;::erase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCRangeMap_1_1iterator__base.html">iterator</a>&nbsp;</td>
          <td class="paramname"> <em>pos</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Erases the specified range and returns the range next to it. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pos</em>&nbsp;</td><td>The iterator of the range to be erased. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The iterator of the range after the erased range.</dd></dl>
<p>Attempting to erase the <a class="el" href="classCRangeMap.html#a992865fc1f8966d7eb8fcff7fa59a6da" title="Returns an iterator pointing past the last range.">end()</a> iterator is an invalid operation. </p>

</div>
</div>
<a class="anchor" id="a80f76ff31d3d7d654f8af000e6a969ef"></a><!-- doxytag: member="CRangeMap::find_range" ref="a80f76ff31d3d7d654f8af000e6a969ef" args="(KEYTYPE key)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename VALUE, typename KEYTYPE = uint64&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCRangeMap_1_1iterator__base.html">iterator</a> <a class="el" href="classCRangeMap.html">CRangeMap</a>&lt; VALUE, KEYTYPE &gt;::find_range </td>
          <td>(</td>
          <td class="paramtype">KEYTYPE&nbsp;</td>
          <td class="paramname"> <em>key</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the range covering the specified key-value. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>A value that may or may not be covered by a range. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="classCRangeMap.html#a992865fc1f8966d7eb8fcff7fa59a6da" title="Returns an iterator pointing past the last range.">end()</a> or the iterator of the range covering key.</dd></dl>
<p>A range is considered to cover a value if the value is greather than or equal to the start-key and less than or equal to the end-key. </p>

</div>
</div>
<a class="anchor" id="a9f87c3502c420aa041a1500fd2b9e275"></a><!-- doxytag: member="CRangeMap::get_insert_it" ref="a9f87c3502c420aa041a1500fd2b9e275" args="(KEYTYPE start)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename VALUE, typename KEYTYPE = uint64&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCRangeMap.html#aed3f96ed03dc0de758357921048026e8">RangeIterator</a> <a class="el" href="classCRangeMap.html">CRangeMap</a>&lt; VALUE, KEYTYPE &gt;::get_insert_it </td>
          <td>(</td>
          <td class="paramtype">KEYTYPE&nbsp;</td>
          <td class="paramname"> <em>start</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finds the optimal location to start looking for insertion points. </p>
<p>This is the first range whose start comes after the new start. We check the last element first, since sequential insertions are commen. </p>

<p>Referenced by <a class="el" href="RangeMap_8h_source.html#l00437">CRangeMap&lt; rangeObject, uint32 &gt;::do_insert()</a>.</p>

</div>
</div>
<a class="anchor" id="a6f80ffed59f822dc0666c53ea4f2f502"></a><!-- doxytag: member="CRangeMap::insert" ref="a6f80ffed59f822dc0666c53ea4f2f502" args="(KEYTYPE startPos, KEYTYPE endPos)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename VALUE, typename KEYTYPE = uint64&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCRangeMap_1_1iterator__base.html">iterator</a> <a class="el" href="classCRangeMap.html">CRangeMap</a>&lt; VALUE, KEYTYPE &gt;::insert </td>
          <td>(</td>
          <td class="paramtype">KEYTYPE&nbsp;</td>
          <td class="paramname"> <em>startPos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">KEYTYPE&nbsp;</td>
          <td class="paramname"> <em>endPos</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Inserts a new range into the map, potentially erasing/changing old ranges. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>startPos</em>&nbsp;</td><td>The start position of the range, also considered part of the range. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>endPos</em>&nbsp;</td><td>The end position of the range, also considered part of the range. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>object</em>&nbsp;</td><td>The user-data to be assosiated with the range. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An iterator pointing to the resulting range, covering at least the specified range.</dd></dl>
<p>This function inserts the specified range into the map, while overwriting or resizing existing ranges if there is any conflict. Ranges might also be merged, if the object of each evaluates to being equal, in which case the old range will be removed and the new extended to include the old range. This also includes ranges placed directly after or in front of each other, which will also be merged if their type is the same.</p>
<p>This has the result that the iterator returned can point to a range quite different from what was originally specified. If this is not desired, then the VALUE type should simply be made to return false on all equality tests. Otherwise, the only promise that is made is that the resulting range has the same user-data (based on the equality operator) as the what was specified.</p>
<p>Note that the start position must be smaller than or equal to the end-position. </p>

<p>Referenced by <a class="el" href="IPFilter_8cpp_source.html#l00250">CIPFilterTask::AddIPRange()</a>.</p>

</div>
</div>
<a class="anchor" id="a2fa7ca9981cf0dfdadb3974f4feb6a8a"></a><!-- doxytag: member="CRangeMap::operator==" ref="a2fa7ca9981cf0dfdadb3974f4feb6a8a" args="(const CRangeMap&lt; VALUE, KEYTYPE &gt; &amp;other) const " -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename VALUE, typename KEYTYPE = uint64&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classCRangeMap.html">CRangeMap</a>&lt; VALUE, KEYTYPE &gt;::operator== </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCRangeMap.html">CRangeMap</a>&lt; VALUE, KEYTYPE &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>other</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Equality operator for two ranges. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if both ranges contain the same ranges and values. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/<a class="el" href="RangeMap_8h_source.html">RangeMap.h</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 4 Dec 2014 for aMule by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
