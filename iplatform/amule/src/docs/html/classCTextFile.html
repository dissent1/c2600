<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>aMule: CTextFile Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>CTextFile Class Reference</h1><!-- doxytag: class="CTextFile" -->
<p>Text file class.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="TextFile_8h_source.html">TextFile.h</a>&gt;</code></p>

<p><a href="classCTextFile-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCTextFile.html#aa66eb453b5f524c276254659a82f6527">EOpenMode</a> { <a class="el" href="classCTextFile.html#aa66eb453b5f524c276254659a82f6527a51cd4773178cf26502ae6f07991ba0f3">read</a>, 
<a class="el" href="classCTextFile.html#aa66eb453b5f524c276254659a82f6527aacd4cb9d6a762e6d5bf80921969a1f4d">write</a>
 }</td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCTextFile.html#ab62f77d53defc98a8849d079744de4f2">~CTextFile</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCTextFile.html#a515983252fda66918cd590ac3dadcab8">IsOpened</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCTextFile.html#aebd6772ead533c023e82867d1c1261c7">Eof</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCTextFile.html#ab0317d100771b8f7effdfb8f4c4439f6">Close</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">wxString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCTextFile.html#a33df174e11ab1ed87163ee33281caae8">GetNextLine</a> (EReadTextFile flags=txtReadAll, const wxMBConv &amp;conv=wxConvLibc, bool *result=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCTextFile.html#af7ff96d9664f74a33866e49adb01423a">WriteLine</a> (const wxString &amp;line, const wxMBConv &amp;conv=wxConvLibc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">wxArrayString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCTextFile.html#a44ef6c8316a08e3480f8ef4c6b2fe6f4">ReadLines</a> (EReadTextFile flags=txtReadDefault, const wxMBConv &amp;conv=wxConvLibc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCTextFile.html#aa7d329161319773da3df96157a9ccd7f">WriteLines</a> (const wxArrayString &amp;lines, const wxMBConv &amp;conv=wxConvLibc)</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrpd41d8cd98f00b204e9800998ecf8427e"></a> </p>
<br/><br/></div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCTextFile.html#a5339481b52a2b4141917263f1e86add1">Open</a> (const wxString &amp;path, <a class="el" href="classCTextFile.html#aa66eb453b5f524c276254659a82f6527">EOpenMode</a> mode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4587054cd46f702dcc8295904b74169c"></a><!-- doxytag: member="CTextFile::Open" ref="a4587054cd46f702dcc8295904b74169c" args="(const CPath &amp;path, EOpenMode mode)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>Open</b> (const <a class="el" href="classCPath.html">CPath</a> &amp;path, <a class="el" href="classCTextFile.html#aa66eb453b5f524c276254659a82f6527">EOpenMode</a> mode)</td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af192a49095ab0f4fcbfa9153ad3d468b"></a><!-- doxytag: member="CTextFile::m_file" ref="af192a49095ab0f4fcbfa9153ad3d468b" args="" -->
wxFFile&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCTextFile.html#af192a49095ab0f4fcbfa9153ad3d468b">m_file</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad0363a16f065f45e89afa39c19f34fc6"></a><!-- doxytag: member="CTextFile::m_mode" ref="ad0363a16f065f45e89afa39c19f34fc6" args="" -->
<a class="el" href="classCTextFile.html#aa66eb453b5f524c276254659a82f6527">EOpenMode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCTextFile.html#ad0363a16f065f45e89afa39c19f34fc6">m_mode</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Text file class. </p>
<p>This class is a wrapper around wxFFile, letting an text file be read or written line-by-line. The class provides transparent and automatic EOL-style handling.</p>
<p>Note that it is not possible to seek in a <a class="el" href="classCTextFile.html" title="Text file class.">CTextFile</a>, only sequential reading or writing is possible. Also note that the maximum length of a line is fixed (see <a class="el" href="classCTextFile.html#a33df174e11ab1ed87163ee33281caae8" title="Returns the next line of a readable file.">CTextFile::GetNextLine</a>), however this shouldn't be a problem, given the uses of this class. </p>
<hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="aa66eb453b5f524c276254659a82f6527"></a><!-- doxytag: member="CTextFile::EOpenMode" ref="aa66eb453b5f524c276254659a82f6527" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classCTextFile.html#aa66eb453b5f524c276254659a82f6527">CTextFile::EOpenMode</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="aa66eb453b5f524c276254659a82f6527a51cd4773178cf26502ae6f07991ba0f3"></a><!-- doxytag: member="read" ref="aa66eb453b5f524c276254659a82f6527a51cd4773178cf26502ae6f07991ba0f3" args="" -->read</em>&nbsp;</td><td>
<p>Opens the file for reading, if it exists. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aa66eb453b5f524c276254659a82f6527aacd4cb9d6a762e6d5bf80921969a1f4d"></a><!-- doxytag: member="write" ref="aa66eb453b5f524c276254659a82f6527aacd4cb9d6a762e6d5bf80921969a1f4d" args="" -->write</em>&nbsp;</td><td>
<p>Opens the file for writing, overwriting old contents. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab62f77d53defc98a8849d079744de4f2"></a><!-- doxytag: member="CTextFile::~CTextFile" ref="ab62f77d53defc98a8849d079744de4f2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CTextFile::~CTextFile </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destructor. </p>
<p>Closes the file if still open. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ab0317d100771b8f7effdfb8f4c4439f6"></a><!-- doxytag: member="CTextFile::Close" ref="ab0317d100771b8f7effdfb8f4c4439f6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CTextFile::Close </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Closes the file, returning true on success. </p>

<p>References <a class="el" href="TextFile_8h_source.html#l00122">m_file</a>.</p>

</div>
</div>
<a class="anchor" id="aebd6772ead533c023e82867d1c1261c7"></a><!-- doxytag: member="CTextFile::Eof" ref="aebd6772ead533c023e82867d1c1261c7" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CTextFile::Eof </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns true if GetNextLine has reached the end of the file. </p>

<p>References <a class="el" href="TextFile_8h_source.html#l00122">m_file</a>.</p>

<p>Referenced by <a class="el" href="TextFile_8cpp_source.html#l00200">ReadLines()</a>.</p>

</div>
</div>
<a class="anchor" id="a33df174e11ab1ed87163ee33281caae8"></a><!-- doxytag: member="CTextFile::GetNextLine" ref="a33df174e11ab1ed87163ee33281caae8" args="(EReadTextFile flags=txtReadAll, const wxMBConv &amp;conv=wxConvLibc, bool *result=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wxString CTextFile::GetNextLine </td>
          <td>(</td>
          <td class="paramtype">EReadTextFile&nbsp;</td>
          <td class="paramname"> <em>flags</em> = <code>txtReadAll</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const wxMBConv &amp;&nbsp;</td>
          <td class="paramname"> <em>conv</em> = <code>wxConvLibc</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&nbsp;</td>
          <td class="paramname"> <em>result</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the next line of a readable file. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conv</em>&nbsp;</td><td>The converter used to convert from multibyte to widechar.</td></tr>
  </table>
  </dd>
</dl>
<p>Note that GetNextLine will return an empty string if the file has reached EOF, or if the file is closed, or not readable. However, empty lines in the file will also be returned unless otherwise specified, so this cannot be used to test for EOF. Instead, use the function <a class="el" href="classCTextFile.html#aebd6772ead533c023e82867d1c1261c7" title="Returns true if GetNextLine has reached the end of the file.">Eof()</a>. </p>

<p>References <a class="el" href="TextFile_8h_source.html#l00122">m_file</a>, <a class="el" href="TextFile_8h_source.html#l00124">m_mode</a>, and <a class="el" href="TextFile_8h_source.html#l00070">read</a>.</p>

<p>Referenced by <a class="el" href="TextFile_8cpp_source.html#l00200">ReadLines()</a>.</p>

</div>
</div>
<a class="anchor" id="a515983252fda66918cd590ac3dadcab8"></a><!-- doxytag: member="CTextFile::IsOpened" ref="a515983252fda66918cd590ac3dadcab8" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CTextFile::IsOpened </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns true if the file is opened. </p>

<p>References <a class="el" href="TextFile_8h_source.html#l00122">m_file</a>.</p>

</div>
</div>
<a class="anchor" id="a5339481b52a2b4141917263f1e86add1"></a><!-- doxytag: member="CTextFile::Open" ref="a5339481b52a2b4141917263f1e86add1" args="(const wxString &amp;path, EOpenMode mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CTextFile::Open </td>
          <td>(</td>
          <td class="paramtype">const wxString &amp;&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCTextFile.html#aa66eb453b5f524c276254659a82f6527">EOpenMode</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Opens the specified file, returning true on success. </p>

<p>Referenced by <a class="el" href="Preferences_8cpp_source.html#l00924">CPreferences::CPreferences()</a>.</p>

</div>
</div>
<a class="anchor" id="a44ef6c8316a08e3480f8ef4c6b2fe6f4"></a><!-- doxytag: member="CTextFile::ReadLines" ref="a44ef6c8316a08e3480f8ef4c6b2fe6f4" args="(EReadTextFile flags=txtReadDefault, const wxMBConv &amp;conv=wxConvLibc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">wxArrayString CTextFile::ReadLines </td>
          <td>(</td>
          <td class="paramtype">EReadTextFile&nbsp;</td>
          <td class="paramname"> <em>flags</em> = <code>txtReadDefault</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const wxMBConv &amp;&nbsp;</td>
          <td class="paramname"> <em>conv</em> = <code>wxConvLibc</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads and returns the contents of a text-file, using the specifed criteria and converter. </p>

<p>References <a class="el" href="TextFile_8cpp_source.html#l00078">Eof()</a>, and <a class="el" href="TextFile_8cpp_source.html#l00093">GetNextLine()</a>.</p>

<p>Referenced by <a class="el" href="Preferences_8cpp_source.html#l00924">CPreferences::CPreferences()</a>.</p>

</div>
</div>
<a class="anchor" id="af7ff96d9664f74a33866e49adb01423a"></a><!-- doxytag: member="CTextFile::WriteLine" ref="af7ff96d9664f74a33866e49adb01423a" args="(const wxString &amp;line, const wxMBConv &amp;conv=wxConvLibc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CTextFile::WriteLine </td>
          <td>(</td>
          <td class="paramtype">const wxString &amp;&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const wxMBConv &amp;&nbsp;</td>
          <td class="paramname"> <em>conv</em> = <code>wxConvLibc</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Writes the line to a writable file, returning true on success. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conv</em>&nbsp;</td><td>The converter used to convert from widechar to multibyte. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="TextFile_8h_source.html#l00122">m_file</a>, <a class="el" href="TextFile_8h_source.html#l00124">m_mode</a>, and <a class="el" href="TextFile_8h_source.html#l00072">write</a>.</p>

<p>Referenced by <a class="el" href="TextFile_8cpp_source.html#l00218">WriteLines()</a>.</p>

</div>
</div>
<a class="anchor" id="aa7d329161319773da3df96157a9ccd7f"></a><!-- doxytag: member="CTextFile::WriteLines" ref="aa7d329161319773da3df96157a9ccd7f" args="(const wxArrayString &amp;lines, const wxMBConv &amp;conv=wxConvLibc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CTextFile::WriteLines </td>
          <td>(</td>
          <td class="paramtype">const wxArrayString &amp;&nbsp;</td>
          <td class="paramname"> <em>lines</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const wxMBConv &amp;&nbsp;</td>
          <td class="paramname"> <em>conv</em> = <code>wxConvLibc</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Writes the lines to the file, using the given converter, returning true if no errors occured. </p>

<p>References <a class="el" href="TextFile_8cpp_source.html#l00174">WriteLine()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/libs/common/<a class="el" href="TextFile_8h_source.html">TextFile.h</a></li>
<li>src/libs/common/TextFile.cpp</li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 4 Dec 2014 for aMule by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
