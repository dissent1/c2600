<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>aMule: CClientList Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>CClientList Class Reference</h1><!-- doxytag: class="CClientList" -->
<p>This class takes care of managing existing clients.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ClientList_8h_source.html">ClientList.h</a>&gt;</code></p>

<p><a href="classCClientList-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCClientList_1_1IpAndTicks.html">IpAndTicks</a></td></tr>
<tr><td colspan="2"><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae0a827c5d051b445ccf36f29fa201f07"></a><!-- doxytag: member="CClientList::ClientMap" ref="ae0a827c5d051b445ccf36f29fa201f07" args="" -->
typedef std::map&lt; uint32, uint32 &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#ae0a827c5d051b445ccf36f29fa201f07">ClientMap</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aac59acebfd23fb6f7f49ab3332c86b7a"></a><!-- doxytag: member="CClientList::SourceList" ref="aac59acebfd23fb6f7f49ab3332c86b7a" args="" -->
typedef std::deque&lt; <a class="el" href="classCClientRef.html">CClientRef</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#aac59acebfd23fb6f7f49ab3332c86b7a">SourceList</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a25771d35ad8e2466dbf2f5ef280039f1"></a><!-- doxytag: member="CClientList::IDMap" ref="a25771d35ad8e2466dbf2f5ef280039f1" args="" -->
typedef std::multimap&lt; uint32, <br class="typebreak"/>
<a class="el" href="classCClientRef.html">CClientRef</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a25771d35ad8e2466dbf2f5ef280039f1">IDMap</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a752808808d73754eb5b8850ed6f9825d"></a><!-- doxytag: member="CClientList::IDMapPair" ref="a752808808d73754eb5b8850ed6f9825d" args="" -->
typedef std::pair&lt; uint32, <br class="typebreak"/>
<a class="el" href="classCClientRef.html">CClientRef</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a752808808d73754eb5b8850ed6f9825d">IDMapPair</a></td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad98766f029922a03ff0586dbff6a5578"></a><!-- doxytag: member="CClientList::CClientList" ref="ad98766f029922a03ff0586dbff6a5578" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#ad98766f029922a03ff0586dbff6a5578">CClientList</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2a6620b14d11610d55b4e2a97caba2f1"></a><!-- doxytag: member="CClientList::~CClientList" ref="a2a6620b14d11610d55b4e2a97caba2f1" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a2a6620b14d11610d55b4e2a97caba2f1">~CClientList</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#aa518e33fa91267eeb3330234c3f3377f">AddClient</a> (<a class="el" href="classCUpDownClient.html">CUpDownClient</a> *toadd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a4842f1795d698b5efdd8854d3b00a3db">RemoveClient</a> (<a class="el" href="classCUpDownClient.html">CUpDownClient</a> *client)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a54dd144048207674101d228597b25c5e">UpdateClientIP</a> (<a class="el" href="classCUpDownClient.html">CUpDownClient</a> *client, uint32 newIP)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a2869c846f4d5e189fb3709effc541e82">UpdateClientID</a> (<a class="el" href="classCUpDownClient.html">CUpDownClient</a> *client, uint32 newID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a01fd2a5ed3633435078bec036117b0d1">UpdateClientHash</a> (<a class="el" href="classCUpDownClient.html">CUpDownClient</a> *client, const <a class="el" href="classCMD4Hash.html">CMD4Hash</a> &amp;newHash)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a43241182072a8ed27a31727fb33f8423"></a><!-- doxytag: member="CClientList::GetClientCount" ref="a43241182072a8ed27a31727fb33f8423" args="() const " -->
uint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a43241182072a8ed27a31727fb33f8423">GetClientCount</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a14020948f78228eeeb83f2c21216c0e2"></a><!-- doxytag: member="CClientList::DeleteAll" ref="a14020948f78228eeeb83f2c21216c0e2" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a14020948f78228eeeb83f2c21216c0e2">DeleteAll</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a66393750e0245bec771922e83b572da3">AttachToAlreadyKnown</a> (<a class="el" href="classCUpDownClient.html">CUpDownClient</a> **client, <a class="el" href="classCClientTCPSocket.html">CClientTCPSocket</a> *sender)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCUpDownClient.html">CUpDownClient</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#ae498a3e10f9152a8ccf8d4e12f6c7a8a">FindClientByIP</a> (uint32 clientip, uint16 port)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCUpDownClient.html">CUpDownClient</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#af1325a826514e5cbdc8a5a20fadb87af">FindClientByIP</a> (uint32 clientip)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCUpDownClient.html">CUpDownClient</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a84d985f0c654dd9ef63b75c07e92b4ec">FindClientByECID</a> (uint32 ecid) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a5c774394c8356a360a677f84217b7e5a">AddTrackClient</a> (<a class="el" href="classCUpDownClient.html">CUpDownClient</a> *toadd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a0ababfa2107214d0830a021f1358a181">GetClientsFromIP</a> (uint32 dwIP)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#af1dfb11f80c114addc06e5a85abce6de">ComparePriorUserhash</a> (uint32 dwIP, uint16 nPort, void *pNewHash)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a465fbc81988380e8f04cc625f759bfef">AddBannedClient</a> (uint32 dwIP)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#af5f8981b0835aaba1041f2a7fedb7e4f">IsBannedClient</a> (uint32 dwIP)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a7f56d4219d930644614d43166050d260">RemoveBannedClient</a> (uint32 dwIP)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#adea2031bd7b381157afc111d1ddf617b">Process</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a8a03335796f5f6eb6eb48a3f336c2d39">FilterQueues</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCClientList.html#aac59acebfd23fb6f7f49ab3332c86b7a">SourceList</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a82f400810424dae7f90b264acfbcea50">GetClientsByHash</a> (const <a class="el" href="classCMD4Hash.html">CMD4Hash</a> &amp;hash)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCClientList.html#aac59acebfd23fb6f7f49ab3332c86b7a">SourceList</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a5e9f338d6721c1f21b3ce3344cebbd2d">GetClientsByIP</a> (unsigned long ip)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classCClientList.html#a25771d35ad8e2466dbf2f5ef280039f1">IDMap</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a19bdd32a84036372c156f1f9d03278f0">GetClientList</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#abb77bcc6f9c2b5f40eb2a54dbc11d9ec">AddDeadSource</a> (const <a class="el" href="classCUpDownClient.html">CUpDownClient</a> *client)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a7c4e833a432b220aff99135a2f3595f6">IsDeadSource</a> (const <a class="el" href="classCUpDownClient.html">CUpDownClient</a> *client)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a2847d6d820439203fbc0eaadda7cff2b">SendChatMessage</a> (uint64 client_id, const wxString &amp;message)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aff54de576913a94d806812df9a01a444"></a><!-- doxytag: member="CClientList::SetChatState" ref="aff54de576913a94d806812df9a01a444" args="(uint64 client_id, uint8 state)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#aff54de576913a94d806812df9a01a444">SetChatState</a> (uint64 client_id, uint8 state)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2bcdf71c592bd9ff9658fb1b9d175b1c"></a><!-- doxytag: member="CClientList::GetBuddyStatus" ref="a2bcdf71c592bd9ff9658fb1b9d175b1c" args="() const " -->
uint8&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetBuddyStatus</b> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af5e86ace83738ba9e94d9c6a2b272fbd"></a><!-- doxytag: member="CClientList::GetBuddy" ref="af5e86ace83738ba9e94d9c6a2b272fbd" args="()" -->
<a class="el" href="classCUpDownClient.html">CUpDownClient</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetBuddy</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac27ef74ac1fa318b2a853b235da5bcf0"></a><!-- doxytag: member="CClientList::GetBuddyIP" ref="ac27ef74ac1fa318b2a853b235da5bcf0" args="()" -->
uint32&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetBuddyIP</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a09add5ba56882f1e1d42046bad23584e"></a><!-- doxytag: member="CClientList::GetBuddyPort" ref="a09add5ba56882f1e1d42046bad23584e" args="()" -->
uint16&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetBuddyPort</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6145b45acc58054793f9470cb526091a"></a><!-- doxytag: member="CClientList::RequestTCP" ref="a6145b45acc58054793f9470cb526091a" args="(Kademlia::CContact *contact, uint8_t connectOptions)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>RequestTCP</b> (<a class="el" href="classKademlia_1_1CContact.html">Kademlia::CContact</a> *contact, uint8_t connectOptions)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a08562542529d4e25855cd2aa5d0ecdac"></a><!-- doxytag: member="CClientList::RequestBuddy" ref="a08562542529d4e25855cd2aa5d0ecdac" args="(Kademlia::CContact *contact, uint8_t connectOptions)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>RequestBuddy</b> (<a class="el" href="classKademlia_1_1CContact.html">Kademlia::CContact</a> *contact, uint8_t connectOptions)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa1374d1612b2fcf320e85468795bdb30"></a><!-- doxytag: member="CClientList::IncomingBuddy" ref="aa1374d1612b2fcf320e85468795bdb30" args="(Kademlia::CContact *contact, Kademlia::CUInt128 *buddyID)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>IncomingBuddy</b> (<a class="el" href="classKademlia_1_1CContact.html">Kademlia::CContact</a> *contact, <a class="el" href="classKademlia_1_1CUInt128.html">Kademlia::CUInt128</a> *buddyID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aecfe513014a44be2e790dd33ebdca5dd"></a><!-- doxytag: member="CClientList::RemoveFromKadList" ref="aecfe513014a44be2e790dd33ebdca5dd" args="(CUpDownClient *torem)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>RemoveFromKadList</b> (<a class="el" href="classCUpDownClient.html">CUpDownClient</a> *torem)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adad9ef01a5991a486e993fffec707825"></a><!-- doxytag: member="CClientList::AddToKadList" ref="adad9ef01a5991a486e993fffec707825" args="(CUpDownClient *toadd)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>AddToKadList</b> (<a class="el" href="classCUpDownClient.html">CUpDownClient</a> *toadd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5604f8f02c4138d5b791e5c7edcfedd6"></a><!-- doxytag: member="CClientList::DoRequestFirewallCheckUDP" ref="a5604f8f02c4138d5b791e5c7edcfedd6" args="(const Kademlia::CContact &amp;contact)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>DoRequestFirewallCheckUDP</b> (const <a class="el" href="classKademlia_1_1CContact.html">Kademlia::CContact</a> &amp;contact)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7cadb3b8fa1578dea6a921f6643a0d0b"></a><!-- doxytag: member="CClientList::AddKadFirewallRequest" ref="a7cadb3b8fa1578dea6a921f6643a0d0b" args="(uint32 ip)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>AddKadFirewallRequest</b> (uint32 ip)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af916774bfa08d558be99725cf1c41271"></a><!-- doxytag: member="CClientList::IsKadFirewallCheckIP" ref="af916774bfa08d558be99725cf1c41271" args="(uint32 ip) const " -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>IsKadFirewallCheckIP</b> (uint32 ip) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab8d96977535c4f9ed4b4e0ce8d8e261c"></a><!-- doxytag: member="CClientList::AddDirectCallbackClient" ref="ab8d96977535c4f9ed4b4e0ce8d8e261c" args="(CUpDownClient *toAdd)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>AddDirectCallbackClient</b> (<a class="el" href="classCUpDownClient.html">CUpDownClient</a> *toAdd)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a175d62062b671b45b68b26763de8304d"></a><!-- doxytag: member="CClientList::RemoveDirectCallback" ref="a175d62062b671b45b68b26763de8304d" args="(CUpDownClient *toRemove)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>RemoveDirectCallback</b> (<a class="el" href="classCUpDownClient.html">CUpDownClient</a> *toRemove)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9ab3396e70df74f00c7a915704b0f56e"></a><!-- doxytag: member="CClientList::AddTrackCallbackRequests" ref="a9ab3396e70df74f00c7a915704b0f56e" args="(uint32_t ip)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>AddTrackCallbackRequests</b> (uint32_t ip)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3b33d1811c0c85fa6b1081a710de0098"></a><!-- doxytag: member="CClientList::AllowCallbackRequest" ref="a3b33d1811c0c85fa6b1081a710de0098" args="(uint32_t ip) const " -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><b>AllowCallbackRequest</b> (uint32_t ip) const </td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a812aa65361bff7e31a206ee4a613df62"></a><!-- doxytag: member="CClientList::CleanUpClientList" ref="a812aa65361bff7e31a206ee4a613df62" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>CleanUpClientList</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae88a9846da1e5d01c01fd9a343a81924"></a><!-- doxytag: member="CClientList::ProcessDirectCallbackList" ref="ae88a9846da1e5d01c01fd9a343a81924" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>ProcessDirectCallbackList</b> ()</td></tr>
<tr><td colspan="2"><h2>Private Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0b14c4eff3c2fafb7398f8d8bd4995ac"></a><!-- doxytag: member="CClientList::HashMap" ref="a0b14c4eff3c2fafb7398f8d8bd4995ac" args="" -->
typedef std::multimap<br class="typebreak"/>
&lt; <a class="el" href="classCMD4Hash.html">CMD4Hash</a>, <a class="el" href="classCClientRef.html">CClientRef</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a0b14c4eff3c2fafb7398f8d8bd4995ac">HashMap</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3052244b2a53e4a1320ca6489ad6119a"></a><!-- doxytag: member="CClientList::HashMapPair" ref="a3052244b2a53e4a1320ca6489ad6119a" args="" -->
typedef std::pair&lt; <a class="el" href="classCMD4Hash.html">CMD4Hash</a>, <br class="typebreak"/>
<a class="el" href="classCClientRef.html">CClientRef</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a3052244b2a53e4a1320ca6489ad6119a">HashMapPair</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a67348d099eff8cea29c2779b845e17af"></a><!-- doxytag: member="CClientList::IpAndTicksList" ref="a67348d099eff8cea29c2779b845e17af" args="" -->
typedef std::list&lt; <a class="el" href="structCClientList_1_1IpAndTicks.html">IpAndTicks</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><b>IpAndTicksList</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5e01d4855e3d0c55fa45f7da2703c0a4"></a><!-- doxytag: member="CClientList::DirectCallbackList" ref="a5e01d4855e3d0c55fa45f7da2703c0a4" args="" -->
typedef CClientRefList&nbsp;</td><td class="memItemRight" valign="bottom"><b>DirectCallbackList</b></td></tr>
<tr><td colspan="2"><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCUpDownClient.html">CUpDownClient</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a5e017bc52a9c516e8087a14838167026">FindMatchingClient</a> (<a class="el" href="classCUpDownClient.html">CUpDownClient</a> *client)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#af76552216c1860a1107bf0e6397ca1f9">IsIPAlreadyKnown</a> (uint32_t ip)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af5d54ce9e1c2d9b0231da14a497990bb"></a><!-- doxytag: member="CClientList::RemoveIPFromList" ref="af5d54ce9e1c2d9b0231da14a497990bb" args="(CUpDownClient *client)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#af5d54ce9e1c2d9b0231da14a497990bb">RemoveIPFromList</a> (<a class="el" href="classCUpDownClient.html">CUpDownClient</a> *client)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7ba2f1df380e131e84ae2ef364a05b46"></a><!-- doxytag: member="CClientList::RemoveIDFromList" ref="a7ba2f1df380e131e84ae2ef364a05b46" args="(CUpDownClient *client)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a7ba2f1df380e131e84ae2ef364a05b46">RemoveIDFromList</a> (<a class="el" href="classCUpDownClient.html">CUpDownClient</a> *client)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a32ab15da3ad4a642652f4fcf88e69989"></a><!-- doxytag: member="CClientList::RemoveHashFromList" ref="a32ab15da3ad4a642652f4fcf88e69989" args="(CUpDownClient *client)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a32ab15da3ad4a642652f4fcf88e69989">RemoveHashFromList</a> (<a class="el" href="classCUpDownClient.html">CUpDownClient</a> *client)</td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af2e5a5fccb9eaef575d9b1b9b4091620"></a><!-- doxytag: member="CClientList::m_hashList" ref="af2e5a5fccb9eaef575d9b1b9b4091620" args="" -->
<a class="el" href="classCClientList.html#a0b14c4eff3c2fafb7398f8d8bd4995ac">HashMap</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#af2e5a5fccb9eaef575d9b1b9b4091620">m_hashList</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adbe8b71ff8344dc3a1ee08c1e3e0aa02"></a><!-- doxytag: member="CClientList::m_ipList" ref="adbe8b71ff8344dc3a1ee08c1e3e0aa02" args="" -->
<a class="el" href="classCClientList.html#a25771d35ad8e2466dbf2f5ef280039f1">IDMap</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#adbe8b71ff8344dc3a1ee08c1e3e0aa02">m_ipList</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aebd3400f4e3146ed8287cbe7633116bf"></a><!-- doxytag: member="CClientList::m_clientList" ref="aebd3400f4e3146ed8287cbe7633116bf" args="" -->
<a class="el" href="classCClientList.html#a25771d35ad8e2466dbf2f5ef280039f1">IDMap</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#aebd3400f4e3146ed8287cbe7633116bf">m_clientList</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5caeed2543abfd89e9615e552a6ac60e"></a><!-- doxytag: member="CClientList::m_bannedList" ref="a5caeed2543abfd89e9615e552a6ac60e" args="" -->
<a class="el" href="classCClientList.html#ae0a827c5d051b445ccf36f29fa201f07">ClientMap</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a5caeed2543abfd89e9615e552a6ac60e">m_bannedList</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a38050598be34127b69ab55cbb6d6902f"></a><!-- doxytag: member="CClientList::m_dwLastBannCleanUp" ref="a38050598be34127b69ab55cbb6d6902f" args="" -->
uint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a38050598be34127b69ab55cbb6d6902f">m_dwLastBannCleanUp</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a347350415f699f160479dd45fb58617c"></a><!-- doxytag: member="CClientList::m_trackedClientsList" ref="a347350415f699f160479dd45fb58617c" args="" -->
std::map&lt; uint32, <br class="typebreak"/>
<a class="el" href="classCDeletedClient.html">CDeletedClient</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a347350415f699f160479dd45fb58617c">m_trackedClientsList</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a597b5d266fa642491bacfdc4ab9ac853"></a><!-- doxytag: member="CClientList::m_dwLastTrackedCleanUp" ref="a597b5d266fa642491bacfdc4ab9ac853" args="" -->
uint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a597b5d266fa642491bacfdc4ab9ac853">m_dwLastTrackedCleanUp</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2f2e3898045af48ef361b747081e7211"></a><!-- doxytag: member="CClientList::m_dwLastClientCleanUp" ref="a2f2e3898045af48ef361b747081e7211" args="" -->
uint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#a2f2e3898045af48ef361b747081e7211">m_dwLastClientCleanUp</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa5bbf6f46533d6c4953f68858f30210c"></a><!-- doxytag: member="CClientList::m_deadSources" ref="aa5bbf6f46533d6c4953f68858f30210c" args="" -->
<a class="el" href="classCDeadSourceList.html">CDeadSourceList</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCClientList.html#aa5bbf6f46533d6c4953f68858f30210c">m_deadSources</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aac8125af096b977570942de5bb0e70f1"></a><!-- doxytag: member="CClientList::m_KadSources" ref="aac8125af096b977570942de5bb0e70f1" args="" -->
CClientRefSet&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_KadSources</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a10e615dad8c9a09ed86dded1a81fdbeb"></a><!-- doxytag: member="CClientList::m_pBuddy" ref="a10e615dad8c9a09ed86dded1a81fdbeb" args="" -->
<a class="el" href="classCClientRef.html">CClientRef</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_pBuddy</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaf550ffdf1d4df34f2fa6c62c5898544"></a><!-- doxytag: member="CClientList::m_nBuddyStatus" ref="aaf550ffdf1d4df34f2fa6c62c5898544" args="" -->
uint8&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_nBuddyStatus</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9865f238aedbb4bed94de610ad1ffd05"></a><!-- doxytag: member="CClientList::m_firewallCheckRequests" ref="a9865f238aedbb4bed94de610ad1ffd05" args="" -->
IpAndTicksList&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_firewallCheckRequests</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a954500850177de6b9877adb76e0ec90a"></a><!-- doxytag: member="CClientList::m_currentDirectCallbacks" ref="a954500850177de6b9877adb76e0ec90a" args="" -->
DirectCallbackList&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_currentDirectCallbacks</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6cfa3f24c836d8607e405368c1d2ddeb"></a><!-- doxytag: member="CClientList::m_directCallbackRequests" ref="a6cfa3f24c836d8607e405368c1d2ddeb" args="" -->
IpAndTicksList&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_directCallbackRequests</b></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>This class takes care of managing existing clients. </p>
<p>This class tracks a number of attributes related to existing and deleted clients. Among other things, it keeps track of existing, banned, dead and dying clients, as well as offers support for matching new client-instances against already exist clients to avoid duplicates. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a465fbc81988380e8f04cc625f759bfef"></a><!-- doxytag: member="CClientList::AddBannedClient" ref="a465fbc81988380e8f04cc625f759bfef" args="(uint32 dwIP)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CClientList::AddBannedClient </td>
          <td>(</td>
          <td class="paramtype">uint32&nbsp;</td>
          <td class="paramname"> <em>dwIP</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Bans an IP address for 2 hours. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dwIP</em>&nbsp;</td><td>The IP from which all clients will be banned. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="ClientList_8h_source.html#l00418">m_bannedList</a>.</p>

</div>
</div>
<a class="anchor" id="aa518e33fa91267eeb3330234c3f3377f"></a><!-- doxytag: member="CClientList::AddClient" ref="aa518e33fa91267eeb3330234c3f3377f" args="(CUpDownClient *toadd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CClientList::AddClient </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCUpDownClient.html">CUpDownClient</a> *&nbsp;</td>
          <td class="paramname"> <em>toadd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds a client to the global list of clients. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>toadd</em>&nbsp;</td><td>The new client. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="ClientList_8h_source.html#l00415">m_clientList</a>, <a class="el" href="ClientList_8h_source.html#l00409">m_hashList</a>, and <a class="el" href="ClientList_8h_source.html#l00412">m_ipList</a>.</p>

<p>Referenced by <a class="el" href="ClientList_8cpp_source.html#l00817">SendChatMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="abb77bcc6f9c2b5f40eb2a54dbc11d9ec"></a><!-- doxytag: member="CClientList::AddDeadSource" ref="abb77bcc6f9c2b5f40eb2a54dbc11d9ec" args="(const CUpDownClient *client)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CClientList::AddDeadSource </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCUpDownClient.html">CUpDownClient</a> *&nbsp;</td>
          <td class="paramname"> <em>client</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds a source to the list of dead sources. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>client</em>&nbsp;</td><td>The source to be recorded as dead. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="DeadSourceList_8cpp_source.html#l00123">CDeadSourceList::AddDeadSource()</a>, and <a class="el" href="ClientList_8h_source.html#l00431">m_deadSources</a>.</p>

</div>
</div>
<a class="anchor" id="a5c774394c8356a360a677f84217b7e5a"></a><!-- doxytag: member="CClientList::AddTrackClient" ref="a5c774394c8356a360a677f84217b7e5a" args="(CUpDownClient *toadd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CClientList::AddTrackClient </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCUpDownClient.html">CUpDownClient</a> *&nbsp;</td>
          <td class="paramname"> <em>toadd</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds a client to the list of tracked clients. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>toadd</em>&nbsp;</td><td>The client to track.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to keep track of clients after they have been deleted and makes it possible to spot port or hash changes. </p>

<p>References <a class="el" href="ClientList_8h_source.html#l00423">m_trackedClientsList</a>.</p>

</div>
</div>
<a class="anchor" id="a66393750e0245bec771922e83b572da3"></a><!-- doxytag: member="CClientList::AttachToAlreadyKnown" ref="a66393750e0245bec771922e83b572da3" args="(CUpDownClient **client, CClientTCPSocket *sender)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CClientList::AttachToAlreadyKnown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCUpDownClient.html">CUpDownClient</a> **&nbsp;</td>
          <td class="paramname"> <em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCClientTCPSocket.html">CClientTCPSocket</a> *&nbsp;</td>
          <td class="paramname"> <em>sender</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Replaces a new client-instance with the an already existing client, if one such exist. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>client</em>&nbsp;</td><td>A pointer to the pointer of the new instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sender</em>&nbsp;</td><td>The socket assosiated with the new instance.</td></tr>
  </table>
  </dd>
</dl>
<p>Call this function when a new client-instance has been created. This function will then compare it against all existing clients and see if we already have an instance matching the new one. If that is the case, it will delete the new instance and set the pointer to the existing one. </p>

<p>References <a class="el" href="ClientList_8cpp_source.html#l00253">FindMatchingClient()</a>, <a class="el" href="updownclient_8h_source.html#l00437">CUpDownClient::GetSocket()</a>, <a class="el" href="BaseClient_8cpp_source.html#l02361">CUpDownClient::IsConnected()</a>, <a class="el" href="BaseClient_8cpp_source.html#l00384">CUpDownClient::Safe_Delete()</a>, and <a class="el" href="BaseClient_8cpp_source.html#l01768">CUpDownClient::SetSocket()</a>.</p>

</div>
</div>
<a class="anchor" id="af1dfb11f80c114addc06e5a85abce6de"></a><!-- doxytag: member="CClientList::ComparePriorUserhash" ref="af1dfb11f80c114addc06e5a85abce6de" args="(uint32 dwIP, uint16 nPort, void *pNewHash)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CClientList::ComparePriorUserhash </td>
          <td>(</td>
          <td class="paramtype">uint32&nbsp;</td>
          <td class="paramname"> <em>dwIP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&nbsp;</td>
          <td class="paramname"> <em>nPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>pNewHash</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks if a client has changed its user-hash. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dwIP</em>&nbsp;</td><td>The IP of the client. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nPort</em>&nbsp;</td><td>The port of the client. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pNewHash</em>&nbsp;</td><td>The userhash assosiated with the client. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="ClientList_8h_source.html#l00423">m_trackedClientsList</a>.</p>

</div>
</div>
<a class="anchor" id="a8a03335796f5f6eb6eb48a3f336c2d39"></a><!-- doxytag: member="CClientList::FilterQueues" ref="a8a03335796f5f6eb6eb48a3f336c2d39" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CClientList::FilterQueues </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This function removes all clients filtered by the current IPFilter. </p>
<p>Call this function after changing the current IPFiler list, to ensure that no client-connections to illegal IPs exist. These would otherwise be allowed to exist, bypassing the IPFilter. </p>

<p>References <a class="el" href="ClientList_8h_source.html#l00412">m_ipList</a>, and <a class="el" href="BaseClient_8cpp_source.html#l00384">CUpDownClient::Safe_Delete()</a>.</p>

</div>
</div>
<a class="anchor" id="a84d985f0c654dd9ef63b75c07e92b4ec"></a><!-- doxytag: member="CClientList::FindClientByECID" ref="a84d985f0c654dd9ef63b75c07e92b4ec" args="(uint32 ecid) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCUpDownClient.html">CUpDownClient</a> * CClientList::FindClientByECID </td>
          <td>(</td>
          <td class="paramtype">uint32&nbsp;</td>
          <td class="paramname"> <em>ecid</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finds a client with the specified ECID. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>clientip</em>&nbsp;</td><td>The IP of the client to find. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="ClientList_8h_source.html#l00415">m_clientList</a>.</p>

</div>
</div>
<a class="anchor" id="af1325a826514e5cbdc8a5a20fadb87af"></a><!-- doxytag: member="CClientList::FindClientByIP" ref="af1325a826514e5cbdc8a5a20fadb87af" args="(uint32 clientip)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCUpDownClient.html">CUpDownClient</a> * CClientList::FindClientByIP </td>
          <td>(</td>
          <td class="paramtype">uint32&nbsp;</td>
          <td class="paramname"> <em>clientip</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finds a client with the specified ip. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>clientip</em>&nbsp;</td><td>The IP of the client to find.</td></tr>
  </table>
  </dd>
</dl>
<p>Returns the first client found if there are several with same ip. </p>

<p>References <a class="el" href="ClientList_8h_source.html#l00412">m_ipList</a>.</p>

</div>
</div>
<a class="anchor" id="ae498a3e10f9152a8ccf8d4e12f6c7a8a"></a><!-- doxytag: member="CClientList::FindClientByIP" ref="ae498a3e10f9152a8ccf8d4e12f6c7a8a" args="(uint32 clientip, uint16 port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCUpDownClient.html">CUpDownClient</a> * CClientList::FindClientByIP </td>
          <td>(</td>
          <td class="paramtype">uint32&nbsp;</td>
          <td class="paramname"> <em>clientip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&nbsp;</td>
          <td class="paramname"> <em>port</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finds a client with the specified ip and port. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>clientip</em>&nbsp;</td><td>The IP of the client to find. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>The port used by the client. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="ClientList_8h_source.html#l00412">m_ipList</a>.</p>

<p>Referenced by <a class="el" href="ClientList_8cpp_source.html#l00817">SendChatMessage()</a>, and <a class="el" href="ClientList_8cpp_source.html#l00835">SetChatState()</a>.</p>

</div>
</div>
<a class="anchor" id="a5e017bc52a9c516e8087a14838167026"></a><!-- doxytag: member="CClientList::FindMatchingClient" ref="a5e017bc52a9c516e8087a14838167026" args="(CUpDownClient *client)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCUpDownClient.html">CUpDownClient</a> * CClientList::FindMatchingClient </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCUpDownClient.html">CUpDownClient</a> *&nbsp;</td>
          <td class="paramname"> <em>client</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Helperfunction which finds a client matching the specified client. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>client</em>&nbsp;</td><td>The client to search for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The matching client or NULL.</dd></dl>
<p>This functions searches through the list of clients and finds the first match using the same checks as CUpDownClient::Compare, but without the overhead. </p>

<p>References <a class="el" href="ClientList_8h_source.html#l00415">m_clientList</a>, <a class="el" href="ClientList_8h_source.html#l00409">m_hashList</a>, and <a class="el" href="ClientList_8h_source.html#l00412">m_ipList</a>.</p>

<p>Referenced by <a class="el" href="ClientList_8cpp_source.html#l00371">AttachToAlreadyKnown()</a>.</p>

</div>
</div>
<a class="anchor" id="a19bdd32a84036372c156f1f9d03278f0"></a><!-- doxytag: member="CClientList::GetClientList" ref="a19bdd32a84036372c156f1f9d03278f0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classCClientList.html#a25771d35ad8e2466dbf2f5ef280039f1">CClientList::IDMap</a> &amp; CClientList::GetClientList </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns a list of all clients. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The complete list of clients. </dd></dl>

<p>References <a class="el" href="ClientList_8h_source.html#l00415">m_clientList</a>.</p>

</div>
</div>
<a class="anchor" id="a82f400810424dae7f90b264acfbcea50"></a><!-- doxytag: member="CClientList::GetClientsByHash" ref="a82f400810424dae7f90b264acfbcea50" args="(const CMD4Hash &amp;hash)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCClientList.html#aac59acebfd23fb6f7f49ab3332c86b7a">CClientList::SourceList</a> CClientList::GetClientsByHash </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCMD4Hash.html">CMD4Hash</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>hash</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns a list of clients with the specified user-hash. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hash</em>&nbsp;</td><td>The userhash to search for.</td></tr>
  </table>
  </dd>
</dl>
<p>This function will return a list of clients with the specified userhash, provided that the hash is a valid non-empty userhash. Empty hashes will simply result in nothing being found. </p>

<p>References <a class="el" href="ClientList_8h_source.html#l00409">m_hashList</a>.</p>

</div>
</div>
<a class="anchor" id="a5e9f338d6721c1f21b3ce3344cebbd2d"></a><!-- doxytag: member="CClientList::GetClientsByIP" ref="a5e9f338d6721c1f21b3ce3344cebbd2d" args="(unsigned long ip)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCClientList.html#aac59acebfd23fb6f7f49ab3332c86b7a">CClientList::SourceList</a> CClientList::GetClientsByIP </td>
          <td>(</td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>ip</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns a list of clients with the specified IP. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ip</em>&nbsp;</td><td>The IP-address to search for.</td></tr>
  </table>
  </dd>
</dl>
<p>This function will return a list of clients with the specified IP, provided that the IP is a non-zero value. A value of zero will not result in any results. </p>

<p>References <a class="el" href="ClientList_8h_source.html#l00412">m_ipList</a>.</p>

</div>
</div>
<a class="anchor" id="a0ababfa2107214d0830a021f1358a181"></a><!-- doxytag: member="CClientList::GetClientsFromIP" ref="a0ababfa2107214d0830a021f1358a181" args="(uint32 dwIP)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16 CClientList::GetClientsFromIP </td>
          <td>(</td>
          <td class="paramtype">uint32&nbsp;</td>
          <td class="paramname"> <em>dwIP</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the number of tracked client. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dwIP</em>&nbsp;</td><td>The IP-adress which of the clients. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of clients tracked at the specifed IP. </dd></dl>

<p>References <a class="el" href="ClientList_8h_source.html#l00423">m_trackedClientsList</a>.</p>

</div>
</div>
<a class="anchor" id="af5f8981b0835aaba1041f2a7fedb7e4f"></a><!-- doxytag: member="CClientList::IsBannedClient" ref="af5f8981b0835aaba1041f2a7fedb7e4f" args="(uint32 dwIP)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CClientList::IsBannedClient </td>
          <td>(</td>
          <td class="paramtype">uint32&nbsp;</td>
          <td class="paramname"> <em>dwIP</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks if a client has been banned. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dwIP</em>&nbsp;</td><td>The IP to check. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if the IP is banned, false otherwise. </dd></dl>

<p>References <a class="el" href="ClientList_8h_source.html#l00418">m_bannedList</a>, and <a class="el" href="ClientList_8cpp_source.html#l00749">RemoveBannedClient()</a>.</p>

</div>
</div>
<a class="anchor" id="a7c4e833a432b220aff99135a2f3595f6"></a><!-- doxytag: member="CClientList::IsDeadSource" ref="a7c4e833a432b220aff99135a2f3595f6" args="(const CUpDownClient *client)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CClientList::IsDeadSource </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCUpDownClient.html">CUpDownClient</a> *&nbsp;</td>
          <td class="paramname"> <em>client</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks if a source is recorded as being dead. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>client</em>&nbsp;</td><td>The client to evaluate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if dead, false otherwise.</dd></dl>
<p>Sources that are dead are not to be considered valid sources and should not be added to partfiles. </p>

<p>References <a class="el" href="DeadSourceList_8cpp_source.html#l00095">CDeadSourceList::IsDeadSource()</a>, and <a class="el" href="ClientList_8h_source.html#l00431">m_deadSources</a>.</p>

</div>
</div>
<a class="anchor" id="af76552216c1860a1107bf0e6397ca1f9"></a><!-- doxytag: member="CClientList::IsIPAlreadyKnown" ref="af76552216c1860a1107bf0e6397ca1f9" args="(uint32_t ip)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CClientList::IsIPAlreadyKnown </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>ip</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if we already know this IP. </p>
<p>This function is used to determine if the given IP address is already known.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ip</em>&nbsp;</td><td>The IP address to check. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="ClientList_8h_source.html#l00412">m_ipList</a>.</p>

</div>
</div>
<a class="anchor" id="adea2031bd7b381157afc111d1ddf617b"></a><!-- doxytag: member="CClientList::Process" ref="adea2031bd7b381157afc111d1ddf617b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CClientList::Process </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Main loop. </p>
<p>This function takes care of cleaning the various lists and deleting pending clients on the deletion-queue. </p>

<p>References <a class="el" href="BaseClient_8cpp_source.html#l02361">CUpDownClient::IsConnected()</a>, <a class="el" href="ClientList_8h_source.html#l00418">m_bannedList</a>, <a class="el" href="ClientList_8h_source.html#l00420">m_dwLastBannCleanUp</a>, <a class="el" href="ClientList_8h_source.html#l00425">m_dwLastTrackedCleanUp</a>, <a class="el" href="ClientList_8h_source.html#l00423">m_trackedClientsList</a>, and <a class="el" href="ClientList_8cpp_source.html#l00749">RemoveBannedClient()</a>.</p>

</div>
</div>
<a class="anchor" id="a7f56d4219d930644614d43166050d260"></a><!-- doxytag: member="CClientList::RemoveBannedClient" ref="a7f56d4219d930644614d43166050d260" args="(uint32 dwIP)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CClientList::RemoveBannedClient </td>
          <td>(</td>
          <td class="paramtype">uint32&nbsp;</td>
          <td class="paramname"> <em>dwIP</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Unbans an IP address, if it has been banned. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dwIP</em>&nbsp;</td><td>The IP address to unban. </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="ClientList_8h_source.html#l00418">m_bannedList</a>.</p>

<p>Referenced by <a class="el" href="ClientList_8cpp_source.html#l00734">IsBannedClient()</a>, and <a class="el" href="ClientList_8cpp_source.html#l00522">Process()</a>.</p>

</div>
</div>
<a class="anchor" id="a4842f1795d698b5efdd8854d3b00a3db"></a><!-- doxytag: member="CClientList::RemoveClient" ref="a4842f1795d698b5efdd8854d3b00a3db" args="(CUpDownClient *client)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CClientList::RemoveClient </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCUpDownClient.html">CUpDownClient</a> *&nbsp;</td>
          <td class="paramname"> <em>client</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Removes a client from the client lists. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>client</em>&nbsp;</td><td>The client to be removed.</td></tr>
  </table>
  </dd>
</dl>
<p>To be called from <a class="el" href="classCUpDownClient.html#ab44d68f2a3ad0b3d133eae05c1ef7ad6" title="This function is to be called when the client object is to be deleted.">CUpDownClient::Safe_Delete</a> only. </p>

<p>References <a class="el" href="ClientList_8cpp_source.html#l00232">RemoveHashFromList()</a>, <a class="el" href="ClientList_8cpp_source.html#l00190">RemoveIDFromList()</a>, and <a class="el" href="ClientList_8cpp_source.html#l00212">RemoveIPFromList()</a>.</p>

</div>
</div>
<a class="anchor" id="a2847d6d820439203fbc0eaadda7cff2b"></a><!-- doxytag: member="CClientList::SendChatMessage" ref="a2847d6d820439203fbc0eaadda7cff2b" args="(uint64 client_id, const wxString &amp;message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CClientList::SendChatMessage </td>
          <td>(</td>
          <td class="paramtype">uint64&nbsp;</td>
          <td class="paramname"> <em>client_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const wxString &amp;&nbsp;</td>
          <td class="paramname"> <em>message</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sends a message to a client, identified by a GUI_ID. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Success </dd></dl>

<p>References <a class="el" href="ClientList_8cpp_source.html#l00104">AddClient()</a>, <a class="el" href="ClientList_8cpp_source.html#l00415">FindClientByIP()</a>, and <a class="el" href="BaseClient_8cpp_source.html#l02482">CUpDownClient::SendChatMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="a01fd2a5ed3633435078bec036117b0d1"></a><!-- doxytag: member="CClientList::UpdateClientHash" ref="a01fd2a5ed3633435078bec036117b0d1" args="(CUpDownClient *client, const CMD4Hash &amp;newHash)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CClientList::UpdateClientHash </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCUpDownClient.html">CUpDownClient</a> *&nbsp;</td>
          <td class="paramname"> <em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCMD4Hash.html">CMD4Hash</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>newHash</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Updates the recorded hash of the specified client. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>client</em>&nbsp;</td><td>The client to have its entry updated. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>newHash</em>&nbsp;</td><td>The new user-hash.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is to be called before the client actually changes its user-hash, and will update the old entry with the new value. There will only be added an entry if the new hash is valid. </p>

<p>References <a class="el" href="MD4Hash_8h_source.html#l00145">CMD4Hash::IsEmpty()</a>, <a class="el" href="ClientList_8h_source.html#l00409">m_hashList</a>, and <a class="el" href="ClientList_8cpp_source.html#l00232">RemoveHashFromList()</a>.</p>

</div>
</div>
<a class="anchor" id="a2869c846f4d5e189fb3709effc541e82"></a><!-- doxytag: member="CClientList::UpdateClientID" ref="a2869c846f4d5e189fb3709effc541e82" args="(CUpDownClient *client, uint32 newID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CClientList::UpdateClientID </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCUpDownClient.html">CUpDownClient</a> *&nbsp;</td>
          <td class="paramname"> <em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&nbsp;</td>
          <td class="paramname"> <em>newID</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Updates the recorded ID of the specified client. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>client</em>&nbsp;</td><td>The client to have its entry updated. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>newID</em>&nbsp;</td><td>The new ID of the client.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is to be called before the client actually changes its ID, and will update the old entry with the new value. Unlike the other two functions, this function will always ensure that there is an entry for the client, regardless of the value of newID. </p>

<p>References <a class="el" href="ClientList_8h_source.html#l00415">m_clientList</a>, and <a class="el" href="ClientList_8cpp_source.html#l00190">RemoveIDFromList()</a>.</p>

</div>
</div>
<a class="anchor" id="a54dd144048207674101d228597b25c5e"></a><!-- doxytag: member="CClientList::UpdateClientIP" ref="a54dd144048207674101d228597b25c5e" args="(CUpDownClient *client, uint32 newIP)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CClientList::UpdateClientIP </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCUpDownClient.html">CUpDownClient</a> *&nbsp;</td>
          <td class="paramname"> <em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32&nbsp;</td>
          <td class="paramname"> <em>newIP</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Updates the recorded IP of the specified client. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>client</em>&nbsp;</td><td>The client to have its entry updated. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>newIP</em>&nbsp;</td><td>The new IP adress of the client.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is to be called before the client actually changes its IP-address, and will update the old entry with the new value. There will only be added an entry if the new IP isn't zero. </p>

<p>References <a class="el" href="ClientList_8h_source.html#l00412">m_ipList</a>, and <a class="el" href="ClientList_8cpp_source.html#l00212">RemoveIPFromList()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="ClientList_8h_source.html">ClientList.h</a></li>
<li>src/ClientList.cpp</li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 4 Dec 2014 for aMule by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
