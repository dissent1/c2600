<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>aMule: CThreadTask Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>CThreadTask Class Reference</h1><!-- doxytag: class="CThreadTask" -->
<p>Base-class of all threaded tasks.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ThreadScheduler_8h_source.html">ThreadScheduler.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CThreadTask:</div>
<div class="dynsection">
 <div class="center">
  <img src="classCThreadTask.gif" usemap="#CThreadTask_map" alt=""/>
  <map id="CThreadTask_map" name="CThreadTask_map">
<area href="classCAICHSyncTask.html" alt="CAICHSyncTask" shape="rect" coords="0,56,114,80"/>
<area href="classCAllocateFileTask.html" alt="CAllocateFileTask" shape="rect" coords="124,56,238,80"/>
<area href="classCCompletionTask.html" alt="CCompletionTask" shape="rect" coords="248,56,362,80"/>
<area href="classCHashingTask.html" alt="CHashingTask" shape="rect" coords="372,56,486,80"/>
<area href="classCIPFilterTask.html" alt="CIPFilterTask" shape="rect" coords="496,56,610,80"/>
</map>
 </div>
</div>

<p><a href="classCThreadTask-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadTask.html#a4d4df7970f1796487267989841f77091">CThreadTask</a> (const wxString &amp;type, const wxString &amp;desc, ETaskPriority priority=ETP_Normal)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadTask.html#a41967e16c84512e344e5bb7adb52f1eb">~CThreadTask</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const wxString &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadTask.html#a2cc15baf378e3b216310f0a86f434000">GetType</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const wxString &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadTask.html#a200576d3e8a0a917c2c0b0c33cff4fad">GetDesc</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">ETaskPriority&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadTask.html#ae2d27a480bbdb0bf665f76a9af54f2ec">GetPriority</a> () const </td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadTask.html#aa771d4d2ec87cb3c73c8d75e12e1a3ec">Entry</a> ()=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadTask.html#a5eac5242e620a396e9027185ff141ff4">OnLastTask</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadTask.html#ad26fca4290faaca0c38914b852ccae78">OnExit</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadTask.html#a06d169e885ee9876edcf42a26b53162e">TestDestroy</a> () const </td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad0edb444e1040b063545c9d2bc0925b5"></a><!-- doxytag: member="CThreadTask::m_type" ref="ad0edb444e1040b063545c9d2bc0925b5" args="" -->
wxString&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_type</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeb1f1b8698b1e40e031644e570e55d3b"></a><!-- doxytag: member="CThreadTask::m_desc" ref="aeb1f1b8698b1e40e031644e570e55d3b" args="" -->
wxString&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_desc</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a71decf1d1af636a767d6d9e3940d0046"></a><!-- doxytag: member="CThreadTask::m_priority" ref="a71decf1d1af636a767d6d9e3940d0046" args="" -->
ETaskPriority&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_priority</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5d72a204acbbc3920d2bca23e409a9bc"></a><!-- doxytag: member="CThreadTask::m_owner" ref="a5d72a204acbbc3920d2bca23e409a9bc" args="" -->
<a class="el" href="classCMuleThread.html">CMuleThread</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadTask.html#a5d72a204acbbc3920d2bca23e409a9bc">m_owner</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3b9f059b166ed21a95e791c185be2d6e"></a><!-- doxytag: member="CThreadTask::m_abort" ref="a3b9f059b166ed21a95e791c185be2d6e" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadTask.html#a3b9f059b166ed21a95e791c185be2d6e">m_abort</a></td></tr>
<tr><td colspan="2"><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aed3458a7a40b3981c44a79e2c3df5639"></a><!-- doxytag: member="CThreadTask::CThreadScheduler" ref="aed3458a7a40b3981c44a79e2c3df5639" args="" -->
class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadTask.html#aed3458a7a40b3981c44a79e2c3df5639">CThreadScheduler</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Base-class of all threaded tasks. </p>
<p>This class acts as a pseudo-thread, and is transparently executed on a worker thread by the <a class="el" href="classCThreadScheduler.html" title="This class mananges scheduling of background tasks.">CThreadScheduler</a> class.</p>
<p>Note that the task type should be an unique description of the task type, as it is used to detect completion of all tasks of a given type and in duplicate detection with the description. The description should be unique for the given task, such that duplicates can be discovered. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a4d4df7970f1796487267989841f77091"></a><!-- doxytag: member="CThreadTask::CThreadTask" ref="a4d4df7970f1796487267989841f77091" args="(const wxString &amp;type, const wxString &amp;desc, ETaskPriority priority=ETP_Normal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CThreadTask::CThreadTask </td>
          <td>(</td>
          <td class="paramtype">const wxString &amp;&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const wxString &amp;&nbsp;</td>
          <td class="paramname"> <em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ETaskPriority&nbsp;</td>
          <td class="paramname"> <em>priority</em> = <code>ETP_Normal</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>Should be a name constant among tasks of the type (hashing, completion, etc). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>desc</em>&nbsp;</td><td>Should be an unique description for this task, for detecting duplicates. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>priority</em>&nbsp;</td><td>Decides how soon the task will be carried out. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a41967e16c84512e344e5bb7adb52f1eb"></a><!-- doxytag: member="CThreadTask::~CThreadTask" ref="a41967e16c84512e344e5bb7adb52f1eb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CThreadTask::~CThreadTask </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Needed since <a class="el" href="classCThreadScheduler.html" title="This class mananges scheduling of background tasks.">CThreadScheduler</a> only works with <a class="el" href="classCThreadTask.html" title="Base-class of all threaded tasks.">CThreadTask</a> pointers. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aa771d4d2ec87cb3c73c8d75e12e1a3ec"></a><!-- doxytag: member="CThreadTask::Entry" ref="aa771d4d2ec87cb3c73c8d75e12e1a3ec" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void CThreadTask::Entry </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="see"><dt><b>See also:</b></dt><dd>wxThread::Entry </dd></dl>

<p>Implemented in <a class="el" href="classCIPFilterTask.html#acf33ae8dfe6ddf8b18f762ced3e9ff0e">CIPFilterTask</a>, <a class="el" href="classCHashingTask.html#a5be9891c855b55cc1ced07b509079217">CHashingTask</a>, <a class="el" href="classCAICHSyncTask.html#a38afe2abf7b4911a886a90ccef0d3c85">CAICHSyncTask</a>, <a class="el" href="classCCompletionTask.html#ac8fec26d8a1ee7ee5e9e97aea56d9c86">CCompletionTask</a>, and <a class="el" href="classCAllocateFileTask.html#a03b090460a948ecdd522fa50ceaf6cf8">CAllocateFileTask</a>.</p>

</div>
</div>
<a class="anchor" id="a200576d3e8a0a917c2c0b0c33cff4fad"></a><!-- doxytag: member="CThreadTask::GetDesc" ref="a200576d3e8a0a917c2c0b0c33cff4fad" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const wxString &amp; CThreadTask::GetDesc </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the task description, used for debugging and duplicate detection. </p>

<p>Referenced by <a class="el" href="ThreadScheduler_8cpp_source.html#l00105">CThreadScheduler::AddTask()</a>, and <a class="el" href="ThreadScheduler_8cpp_source.html#l00218">CThreadScheduler::DoAddTask()</a>.</p>

</div>
</div>
<a class="anchor" id="ae2d27a480bbdb0bf665f76a9af54f2ec"></a><!-- doxytag: member="CThreadTask::GetPriority" ref="ae2d27a480bbdb0bf665f76a9af54f2ec" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ETaskPriority CThreadTask::GetPriority </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the priority of the task. </p>
<p>Used when selecting the next task. </p>

</div>
</div>
<a class="anchor" id="a2cc15baf378e3b216310f0a86f434000"></a><!-- doxytag: member="CThreadTask::GetType" ref="a2cc15baf378e3b216310f0a86f434000" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const wxString &amp; CThreadTask::GetType </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the task type, used for debugging and duplicate detection. </p>

<p>Referenced by <a class="el" href="ThreadScheduler_8cpp_source.html#l00218">CThreadScheduler::DoAddTask()</a>, and <a class="el" href="ThreadTasks_8cpp_source.html#l00243">CHashingTask::OnLastTask()</a>.</p>

</div>
</div>
<a class="anchor" id="ad26fca4290faaca0c38914b852ccae78"></a><!-- doxytag: member="CThreadTask::OnExit" ref="ad26fca4290faaca0c38914b852ccae78" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CThreadTask::OnExit </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="see"><dt><b>See also:</b></dt><dd>wxThread::OnExit </dd></dl>

<p>Reimplemented in <a class="el" href="classCCompletionTask.html#aed5ffa34885de5ab6df4fba2e3b53e38">CCompletionTask</a>, and <a class="el" href="classCAllocateFileTask.html#abf55789dd62e67cf82f93794e984348a">CAllocateFileTask</a>.</p>

</div>
</div>
<a class="anchor" id="a5eac5242e620a396e9027185ff141ff4"></a><!-- doxytag: member="CThreadTask::OnLastTask" ref="a5eac5242e620a396e9027185ff141ff4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CThreadTask::OnLastTask </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called when the last task of a specific type has been completed. </p>

<p>Reimplemented in <a class="el" href="classCHashingTask.html#a87266d8af8bbab477f854e8af6a171d8">CHashingTask</a>.</p>

</div>
</div>
<a class="anchor" id="a06d169e885ee9876edcf42a26b53162e"></a><!-- doxytag: member="CThreadTask::TestDestroy" ref="a06d169e885ee9876edcf42a26b53162e" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CThreadTask::TestDestroy </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="see"><dt><b>See also:</b></dt><dd>wxThread::TestDestroy </dd></dl>

<p>References <a class="el" href="ThreadScheduler_8h_source.html#l00192">m_abort</a>, <a class="el" href="ThreadScheduler_8h_source.html#l00190">m_owner</a>, and <a class="el" href="MuleThread_8h_source.html#l00061">CMuleThread::TestDestroy()</a>.</p>

<p>Referenced by <a class="el" href="ThreadTasks_8cpp_source.html#l00083">CHashingTask::Entry()</a>, and <a class="el" href="IPFilter_8cpp_source.html#l00277">CIPFilterTask::LoadFromFile()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="ThreadScheduler_8h_source.html">ThreadScheduler.h</a></li>
<li>src/ThreadScheduler.cpp</li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 4 Dec 2014 for aMule by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
